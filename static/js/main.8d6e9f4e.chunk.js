(this["webpackJsonpreact-booking"]=this["webpackJsonpreact-booking"]||[]).push([[0],{342:function(e){e.exports=JSON.parse('{"pswRule":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero.","pswRequired":"Contrase\xf1a requerida","pswPlaceholder":"Contrase\xf1a","accept":"Aceptar","loginTitle":"Entrar","signup":"Crear cuenta","submitBtn":"Entrar","submitError":"Error al entrar","submitErrorVerify":"Mail no verificado","recoveryTxt":"Recuperar","recoveryA":"usuario y contrase\xf1a","mailPlaceholder":"Mail","mailError":"Mail no v\xe1lido","mailRequired":"Mail requerido"}')},343:function(e){e.exports=JSON.parse('{"pswRule":"La contrasenya ha de contenir m\xednim 8 car\xe0cters, una maj\xfascula, una min\xfascula i un n\xfamero.","accept":"Acceptar","pswRequired":"Contrasenya obligatoria","pswPlaceholder":"Contrasenya","loginTitle":"Entrar","signup":"Crear un compte","submitBtn":"Entrar","submitError":"Error al entrar","submitErrorVerify":"Mail no verificat","recoveryTxt":"Recuperar","recoveryA":"usuari i contrasenya","mailPlaceholder":"Mail","mailError":"Mail no v\xe0lid","mailRequired":"Mail obligatori"}')},345:function(e){e.exports=JSON.parse('{"mailPlaceholder":"Mail","mailError":"Mail no v\xe0lid","mailRequired":"Mail obligatori","nameError":"Nom no v\xe0lid","namePlaceholder":"Nom complet","nameRequired":"Nom obligatori","pswPlaceholder":"Contrasenya","pswRequired":"Contrasenya obligatoria","rePswPlaceholder":"Repetir contrasenya","rePswError":"Les contrasenyes no coincideixen","rePswRequired":"Camp obligatori","pswRule":"La contrasenya ha de contenir m\xednim 8 car\xe0cters, una maj\xfascula, una min\xfascula i un n\xfamero.","accept":"Acceptar","loginTitle":"Log in","signupTitle":"Crear compte","signup":"Crear compte","submitBtn":"Crear","submitError":"Error a l\'hora de registrar-se","submitOk":"Enviant mail de confirmaci\xf3","back":"Tornar enrere"}')},346:function(e){e.exports=JSON.parse('{"mailPlaceholder":"Mail","mailError":"Mail no v\xe1lido","mailRequired":"Mail requerido","nameError":"Nombre no v\xe1lido","namePlaceholder":"Nombre completo","nameRequired":"Nombre requerido","pswPlaceholder":"Contrase\xf1a","pswError":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero","pswRequired":"Contrase\xf1a requerida","rePswPlaceholder":"Repetir contrase\xf1a","rePswError":"Las contrase\xf1as no coinciden","rePswRequired":"Campo requierido","pswRule":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero.","accept":"Aceptar","loginTitle":"Log in","signupTitle":"Reg\xedstrate","signup":"Crear cuenta","submitBtn":"Registrarse","submitError":"Error al registrarse","submitOk":"Enviando mail de confirmaci\xf3n","back":"Volver"}')},348:function(e,a,t){e.exports=t(754)},353:function(e,a,t){},578:function(e,a){},580:function(e,a){},591:function(e,a){},593:function(e,a){},619:function(e,a){},621:function(e,a){},622:function(e,a){},628:function(e,a){},630:function(e,a){},648:function(e,a){},651:function(e,a){},667:function(e,a){},670:function(e,a){},720:function(e,a,t){},721:function(e,a,t){},722:function(e,a,t){},723:function(e,a,t){},724:function(e,a,t){},725:function(e,a,t){},726:function(e,a,t){},731:function(e,a,t){},735:function(e,a){},737:function(e,a){},747:function(e,a,t){},748:function(e,a,t){},749:function(e,a,t){},753:function(e,a,t){},754:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(110),o=t.n(c),i=(t(353),t(29)),l=t(20),s=t(93),u=t.n(s),m=t(75),p=t(109),d=t(4),b=t(134),E=t(111),f=t(340),g=t.n(f),v=(t(720),function(e){var a=e.txt,t=e.loading;return r.a.createElement("button",{type:"submit",className:"submitBtn"},a,r.a.createElement("span",{className:"spin"},r.a.createElement(g.a,{loading:t,color:"#fff",size:12})))}),j=(t(721),function(e){var a=e.children,t=e.account,n=e.accountChange,c=e.placeholder,o=e.type,i=e.name;return r.a.createElement("div",{className:"inputWrapper center space"},a,r.a.createElement("input",{className:"input",name:i,type:o,value:t,onChange:n,placeholder:c}))}),O=(t(722),function(e){var a=e.txt;return r.a.createElement("div",{className:"loginError"},a)}),w=Object(n.createContext)("h"),h=(t(723),function(e){var a=e.content,t=e.history,c=Object(n.useState)({mail:"",psw:""}),o=Object(i.a)(c,2),l=o[0],s=o[1],m=Object(n.useState)({mail:"",psw:"",submit:""}),f=Object(i.a)(m,2),g=f[0],h=f[1],N=Object(n.useState)(!1),y=Object(i.a)(N,2),P=y[0],C=y[1],x=Object(n.useContext)(w).setUser,R=function(e){h((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:"",psw:""})})),s(Object(d.a)(Object(d.a)({},l),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"formWrapper"},r.a.createElement("p",{className:"loginTxt"},a.loginTitle),r.a.createElement("form",{className:"loginForm",onSubmit:function(e){e.preventDefault(),C(!0),h((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:""})}));var n=l.mail&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(l.mail)?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:a.mailError})})),!1):l.mail?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:""})})),!0):(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:a.mailRequired})})),!1),r=l.psw&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(l.psw)?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:a.pswRule})})),!1):l.psw?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:""})})),!0):(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:a.pswRequired})})),!1);n&&r?u.a.User.logIn(l.mail,l.psw).then((function(e){console.log("User LOGEDIN",JSON.stringify(e)),x({logged:!0,name:e.name,email:e.mail,token:e.sessionToken,id:e.objectId}),t("dashboard")})).catch((function(e){console.log("logIn -> error",e),205===e.code?h((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:a.submitErrorVerify})})):h((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:a.submitError})}))})).finally((function(){C(!1)})):C(!1)}},r.a.createElement(j,{name:"mail",account:l.mail,accountChange:R,placeholder:"Mail",type:"mail"},r.a.createElement("span",{className:"svg"},r.a.createElement(b.b,null))),r.a.createElement(O,{txt:g.mail}),r.a.createElement(j,{name:"psw",account:l.psw,accountChange:R,placeholder:a.pswPlaceholder,type:"password"},r.a.createElement("span",null,r.a.createElement(E.a,null))),r.a.createElement(O,{txt:g.psw}),r.a.createElement("div",{className:"loginBtnWrapper space"},r.a.createElement(v,{loading:P,txt:a.submitBtn})),r.a.createElement(O,{txt:g.submit}),r.a.createElement("div",{className:"space recover"},r.a.createElement("span",null,a.recoveryTxt," ",r.a.createElement("a",{href:"mailto:support@gmail.com"},a.recoveryA)))))}),N=(t(724),function(e){var a=e.children;return r.a.createElement("div",{className:"transparentNav"},a)}),y=Object(n.createContext)(""),P=(t(725),function(){var e=Object(n.useContext)(y),a=e.lang,t=e.setLang,c=Object(n.useState)(!1),o=Object(i.a)(c,2),l=o[0],s=o[1],u=function(e){"ca"===e?t("ca"):"es"===e&&t("es"),s((function(e){return!e}))},m=function(){s((function(e){return!e}))};return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{onClick:m,className:"dropbtn"},"es"===a?"ESP":"ca"===a?"CAT":"ENG"),r.a.createElement("div",{onClick:m,className:"arrow"}),r.a.createElement("div",{className:l?"dropdown-content":"noDropdown"},r.a.createElement("div",{className:"langDrop",onClick:function(){return u("es")}},"ESP"),r.a.createElement("div",{className:"langDrop",onClick:function(){return u("ca")}},"CAT")))}),C=t(342),x=t(343),R=(t(726),function(e){var a=e.history,t=Object(n.useContext)(y).lang,c=Object(n.useState)("login"),o=Object(i.a)(c,2),l=o[0],s=o[1];Object(n.useEffect)((function(){"ca"===t?s((function(){return x})):"es"===t&&s((function(){return C}))}),[t]);return r.a.createElement("div",null,r.a.createElement(N,null,r.a.createElement(P,null)),r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"formContainer fade"},r.a.createElement(h,{history:function(e){a.push("/".concat(e))},content:l}),r.a.createElement("div",{className:"linkWrap"},r.a.createElement(m.b,{to:"/signup"},l.signup)))))}),k=(t(731),function(e){var a=e.showAlert,c=e.content,o=Object(n.useState)({mail:"",psw:"",name:"",rePsw:""}),l=Object(i.a)(o,2),s=l[0],m=l[1],f=Object(n.useState)({mail:"",psw:"",rePsw:"",name:"",submit:""}),g=Object(i.a)(f,2),w=g[0],h=g[1],N=Object(n.useState)(!1),y=Object(i.a)(N,2),P=y[0],C=y[1],x=function(e){m(Object(d.a)(Object(d.a)({},s),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"formWrapper"},r.a.createElement("p",{className:"signinTxt"},c.signupTitle),r.a.createElement("form",{className:"signinForm",onSubmit:function(e){e.preventDefault(),C(!0),h((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:""})}));var a=s.mail&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s.mail)?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:c.mailError})})),!1):s.mail?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:""})})),!0):(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:c.mailRequired})})),!1),n=s.name?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{name:""})})),!0):(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{name:c.nameRequired})})),!1),r=s.psw&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(s.psw)?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:c.pswRule})})),!1):s.psw?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:""})})),!0):(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:c.pswRequired})})),!1),o=s.psw!==s.rePsw?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{rePsw:c.rePswError})})),!1):s.rePsw?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{rePsw:""})})),!0):(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{rePsw:c.rePswRequired})})),!1);if(a&&r&&o&&n){var i=new u.a.User;i.set("username",s.name),i.set("email",s.mail),i.set("password",s.psw),i.set("name",s.name),i.signUp().then((function(e){console.log("User signed up",e),h((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:c.submitOk})})),function(){var e=t(732),a={email:s.mail},n=e.request({hostname:"https://parseapi.back4app.com",path:"/verificationEmailRequest",method:"POST",headers:{"X-Parse-Application-Id":"kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9","X-Parse-REST-API-Key":"od4o0RAtgQzAICZY1LdEiVrItZN2trnrtcQX4hve","Content-Type":"application/json"}},(function(e){e.setEncoding("utf8"),e.on("data",(function(e){console.log("BODY: ".concat(e))})),e.on("end",(function(){console.log("No more data in response.")}))}));n.on("error",(function(e){console.error("Problem with request: ".concat(e.message))})),n.write(a),n.end()}()})).catch((function(e){h((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:c.submitError})}))})).finally((function(){return C(!1)}))}else C(!1)}},r.a.createElement(j,{name:"name",account:s.name,accountChange:x,placeholder:c.namePlaceholder,type:""},r.a.createElement("span",{className:"svg"},r.a.createElement(E.b,null))),r.a.createElement(O,{txt:w.name}),r.a.createElement(j,{name:"mail",account:s.mail,accountChange:x,placeholder:"Mail",type:"mail"},r.a.createElement("span",{className:"svg"},r.a.createElement(b.b,null))),r.a.createElement(O,{txt:w.mail}),r.a.createElement("div",{className:"inputInfoContainer space"},r.a.createElement("div",{className:"inputInfoWrapper"},r.a.createElement("span",null,r.a.createElement(E.a,null)),r.a.createElement("input",{className:"inputInfo",name:"psw",type:"password",value:s.psw,onChange:x,placeholder:c.pswPlaceholder})),r.a.createElement(b.a,{onClick:function(){return a()},className:"info"})),r.a.createElement(O,{txt:w.psw}),r.a.createElement(j,{name:"rePsw",account:s.rePsw,accountChange:x,placeholder:c.rePswPlaceholder,type:"password"},r.a.createElement("span",null,r.a.createElement(E.a,null))),r.a.createElement(O,{txt:w.rePsw}),r.a.createElement("div",{className:"signinBtnWrapper"},r.a.createElement(v,{loading:P,txt:c.submitBtn})),r.a.createElement(O,{txt:w.submit})))}),S=(t(747),function(e){var a=e.txt,t=e.aceptar,n=e.txtBtn,c=e.display;return r.a.createElement("div",{className:c?"alert":"noAlert"},r.a.createElement("div",{className:"alertBack"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"txtWrap"},r.a.createElement("span",{className:"txt"},a)),r.a.createElement("div",{className:"btnWrap"},r.a.createElement("button",{className:"btn",onClick:function(){return t()}},n)))))}),A=t(345),q=t(346),T=(t(748),function(e){var a=e.history,t=Object(n.useContext)(y).lang,c=Object(n.useState)(!1),o=Object(i.a)(c,2),l=o[0],s=o[1],u=Object(n.useState)("singup"),p=Object(i.a)(u,2),d=p[0],b=p[1];Object(n.useEffect)((function(){"ca"===t?b((function(){return A})):"es"===t&&b((function(){return q}))}),[t]);var E=function(){s(!l)};return r.a.createElement("div",null,r.a.createElement(N,null,r.a.createElement(P,null)),r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"formContainer fade"},r.a.createElement(k,{history:function(e){a.push("/".concat(e))},content:d,showAlert:E}),r.a.createElement("div",{className:"linkWrap"},r.a.createElement(m.b,{to:"/login"},d.back))),r.a.createElement(S,{txt:d.pswRule,txtBtn:d.accept,display:l,aceptar:E})))}),B=t(135),M=t(157),L=(t(749),function(){return r.a.createElement(B.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(B.a.Brand,{href:"#home"},"Silock"),r.a.createElement(B.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(B.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(M.a,{className:"mr-auto"},r.a.createElement(M.a.Link,{href:"#features"},"Reservar"),r.a.createElement(M.a.Link,{href:"#pricing"},"Mis Reservas"))))}),I=(t(753),function(e){var a=e.children;return r.a.createElement("div",null,r.a.createElement(L,null),a)}),W=function(){return r.a.createElement("div",null,"Bienvenido al dashboard")},z=function(){return r.a.createElement("div",null,"LES MEVES RESERVES")},Z=t(347),U=function(e){var a=e.component,t=e.layout,c=e.render,o=Object(Z.a)(e,["component","layout","render"]),i=Object(n.useContext)(w).user;return r.a.createElement(l.b,Object.assign({},o,{render:function(e){return i.logged?a?r.a.createElement(t,null,r.a.createElement(a,e)):c(e):r.a.createElement(l.a,{to:"/login"})}}))};var J=function(){var e=Object(n.useState)("es"),a=Object(i.a)(e,2),t=a[0],c=a[1],o="kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9",s=Object(n.useState)(function(){var e=JSON.parse(localStorage.getItem("Parse/".concat(o,"/currentUser")));return e&&e.sessionToken?{logged:!0,name:e.name,email:e.mail,token:e.sessionToken,id:e.objectId}:{logged:!1}}()),m=Object(i.a)(s,2),p=m[0],d=m[1];return Object(n.useEffect)((function(){u.a.serverURL="https://parseapi.back4app.com",u.a.initialize(o,"YxSrKWAZV2eZw5riHbZWbKr75aBjr2NyuKrll60W")}),[]),r.a.createElement(y.Provider,{value:{lang:t,setLang:c}},r.a.createElement(w.Provider,{value:{user:p,setUser:d}},r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/login",component:R}),r.a.createElement(l.b,{path:"/signup",component:T}),r.a.createElement(U,{path:"/dashboard",component:W,layout:I}),r.a.createElement(U,{path:"/myspace",component:z,layout:I}),r.a.createElement(l.a,{from:"/",to:"/dashboard"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(m.a,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[348,1,2]]]);
//# sourceMappingURL=main.8d6e9f4e.chunk.js.map