(this["webpackJsonpreact-booking"]=this["webpackJsonpreact-booking"]||[]).push([[0],{332:function(e){e.exports=JSON.parse('{"pswRule":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero.","pswRequired":"Contrase\xf1a requerida","pswPlaceholder":"Contrase\xf1a","accept":"Aceptar","loginTitle":"Entrar","signup":"Crear cuenta","submitBtn":"Entrar","submitError":"Error al entrar","submitErrorVerify":"Mail no verificado","recoveryTxt":"Recuperar","recoveryA":"usuario y contrase\xf1a","mailPlaceholder":"Mail","mailError":"Mail no v\xe1lido","mailRequired":"Mail requerido"}')},333:function(e){e.exports=JSON.parse('{"pswRule":"La contrasenya ha de contenir m\xednim 8 car\xe0cters, una maj\xfascula, una min\xfascula i un n\xfamero.","accept":"Acceptar","pswRequired":"Contrasenya obligatoria","pswPlaceholder":"Contrasenya","loginTitle":"Entrar","signup":"Crear un compte","submitBtn":"Entrar","submitError":"Error al entrar","submitErrorVerify":"Mail no verificat","recoveryTxt":"Recuperar","recoveryA":"usuari i contrasenya","mailPlaceholder":"Mail","mailError":"Mail no v\xe0lid","mailRequired":"Mail obligatori"}')},335:function(e){e.exports=JSON.parse('{"mailPlaceholder":"Mail","mailError":"Mail no v\xe0lid","mailRequired":"Mail obligatori","nameError":"Nom no v\xe0lid","namePlaceholder":"Nom complet","nameRequired":"Nom obligatori","pswPlaceholder":"Contrasenya","pswRequired":"Contrasenya obligatoria","rePswPlaceholder":"Repetir contrasenya","rePswError":"Les contrasenyes no coincideixen","rePswRequired":"Camp obligatori","pswRule":"La contrasenya ha de contenir m\xednim 8 car\xe0cters, una maj\xfascula, una min\xfascula i un n\xfamero.","accept":"Acceptar","loginTitle":"Log in","signupTitle":"Crear compte","signup":"Crear compte","submitBtn":"Crear","submitError":"Error a l\'hora de registrar-se","submitOk":"Enviant mail de confirmaci\xf3","back":"Tornar enrere"}')},336:function(e){e.exports=JSON.parse('{"mailPlaceholder":"Mail","mailError":"Mail no v\xe1lido","mailRequired":"Mail requerido","nameError":"Nombre no v\xe1lido","namePlaceholder":"Nombre completo","nameRequired":"Nombre requerido","pswPlaceholder":"Contrase\xf1a","pswError":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero","pswRequired":"Contrase\xf1a requerida","rePswPlaceholder":"Repetir contrase\xf1a","rePswError":"Las contrase\xf1as no coinciden","rePswRequired":"Campo requierido","pswRule":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero.","accept":"Aceptar","loginTitle":"Log in","signupTitle":"Reg\xedstrate","signup":"Crear cuenta","submitBtn":"Registrarse","submitError":"Error al registrarse","submitOk":"Enviando mail de confirmaci\xf3n","back":"Volver"}')},338:function(e){e.exports=JSON.parse('{"booking":"Reservar","myBooking":"Les meves reserves","brand":"Home"}')},339:function(e){e.exports=JSON.parse('{"booking":"Reservar","myBooking":"Mis reservas","brand":"Home"}')},340:function(e){e.exports=JSON.parse('{"title":"Reserves"}')},341:function(e){e.exports=JSON.parse('{"title":"Reservas"}')},342:function(e){e.exports=JSON.parse('{"title":"Les meves reserves"}')},343:function(e){e.exports=JSON.parse('{"title":"Mis reservas"}')},345:function(e,t,a){e.exports=a(751)},350:function(e,t,a){},575:function(e,t){},577:function(e,t){},588:function(e,t){},590:function(e,t){},616:function(e,t){},618:function(e,t){},619:function(e,t){},625:function(e,t){},627:function(e,t){},645:function(e,t){},648:function(e,t){},664:function(e,t){},667:function(e,t){},717:function(e,t,a){},718:function(e,t,a){},719:function(e,t,a){},720:function(e,t,a){},721:function(e,t,a){},722:function(e,t,a){},723:function(e,t,a){},728:function(e,t,a){},732:function(e,t){},734:function(e,t){},744:function(e,t,a){},745:function(e,t,a){},746:function(e,t,a){},747:function(e,t,a){},748:function(e,t,a){},749:function(e,t,a){},750:function(e,t,a){},751:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(329),o=a.n(c),i=(a(350),a(8)),s=a(19),l=a(54),u=a.n(l),m=a(43),p=a(103),b=a(3),f=a(128),d=a(104),E=a(330),O=a.n(E),j=(a(717),function(e){var t=e.txt,a=e.loading;return r.a.createElement("button",{type:"submit",className:"submitBtn"},t,r.a.createElement("span",{className:"spin"},r.a.createElement(O.a,{loading:a,color:"#fff",size:12})))}),v=(a(718),function(e){var t=e.children,a=e.account,n=e.accountChange,c=e.placeholder,o=e.type,i=e.name;return r.a.createElement("div",{className:"inputWrapper center space"},t,r.a.createElement("input",{className:"input",name:i,type:o,value:a,onChange:n,placeholder:c}))}),g=(a(719),function(e){var t=e.txt;return r.a.createElement("div",{className:"loginError"},t)}),w=Object(n.createContext)("h"),h=(a(720),function(e){var t=e.content,a=e.history,c=Object(n.useState)({mail:"",psw:""}),o=Object(i.a)(c,2),s=o[0],l=o[1],m=Object(n.useState)({mail:"",psw:"",submit:""}),E=Object(i.a)(m,2),O=E[0],h=E[1],N=Object(n.useState)(!1),y=Object(i.a)(N,2),C=y[0],x=y[1],k=Object(n.useContext)(w).setUser,P=function(e){h((function(e){return Object(b.a)(Object(b.a)({},e),{},{mail:"",psw:""})})),l(Object(b.a)(Object(b.a)({},s),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"formWrapper"},r.a.createElement("p",{className:"loginTxt"},t.loginTitle),r.a.createElement("form",{className:"loginForm",onSubmit:function(e){e.preventDefault(),x(!0),h((function(e){return Object(b.a)(Object(b.a)({},e),{},{submit:""})}));var n=s.mail&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s.mail)?(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{mail:t.mailError})})),!1):s.mail?(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{mail:""})})),!0):(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{mail:t.mailRequired})})),!1),r=s.psw&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(s.psw)?(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{psw:t.pswRule})})),!1):s.psw?(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{psw:""})})),!0):(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{psw:t.pswRequired})})),!1);n&&r?u.a.User.logIn(s.mail,s.psw).then((function(e){console.log("User LOGEDIN",JSON.stringify(e)),k({logged:!0,name:e.name,email:e.mail,token:e.sessionToken,id:e.objectId}),a("dashboard")})).catch((function(e){console.log("logIn -> error",e),205===e.code?h((function(e){return Object(b.a)(Object(b.a)({},e),{},{submit:t.submitErrorVerify})})):h((function(e){return Object(b.a)(Object(b.a)({},e),{},{submit:t.submitError})}))})).finally((function(){x(!1)})):x(!1)}},r.a.createElement(v,{name:"mail",account:s.mail,accountChange:P,placeholder:"Mail",type:"mail"},r.a.createElement("span",{className:"svg"},r.a.createElement(f.b,null))),r.a.createElement(g,{txt:O.mail}),r.a.createElement(v,{name:"psw",account:s.psw,accountChange:P,placeholder:t.pswPlaceholder,type:"password"},r.a.createElement("span",null,r.a.createElement(d.a,null))),r.a.createElement(g,{txt:O.psw}),r.a.createElement("div",{className:"loginBtnWrapper space"},r.a.createElement(j,{loading:C,txt:t.submitBtn})),r.a.createElement(g,{txt:O.submit}),r.a.createElement("div",{className:"space recover"},r.a.createElement("span",null,t.recoveryTxt," ",r.a.createElement("a",{href:"mailto:support@gmail.com"},t.recoveryA)))))}),N=(a(721),function(e){var t=e.children;return r.a.createElement("div",{className:"transparentNav"},t)}),y=Object(n.createContext)(""),C=(a(722),function(){var e=Object(n.useContext)(y),t=e.lang,a=e.setLang,c=Object(n.useState)(!1),o=Object(i.a)(c,2),s=o[0],l=o[1],u=function(e){"ca"===e?a("ca"):"es"===e&&a("es"),l((function(e){return!e}))},m=function(){l((function(e){return!e}))};return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{onClick:m,className:"dropbtn"},"es"===t?"ESP":"ca"===t?"CAT":"ENG"),r.a.createElement("div",{onClick:m,className:"arrow"}),r.a.createElement("div",{className:s?"dropdown-content":"noDropdown"},r.a.createElement("div",{className:"langDrop",onClick:function(){return u("es")}},"ESP"),r.a.createElement("div",{className:"langDrop",onClick:function(){return u("ca")}},"CAT")))}),x=a(332),k=a(333),P=(a(723),function(e){var t=e.history,a=Object(n.useContext)(y).lang,c=Object(n.useState)("login"),o=Object(i.a)(c,2),s=o[0],l=o[1];Object(n.useEffect)((function(){"ca"===a?l((function(){return k})):"es"===a&&l((function(){return x}))}),[a]);return r.a.createElement("div",null,r.a.createElement(N,null,r.a.createElement(C,null)),r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"formContainer fade"},r.a.createElement(h,{history:function(e){t.push("/".concat(e))},content:s}),r.a.createElement("div",{className:"linkWrap"},r.a.createElement(m.b,{to:"/signup"},s.signup)))))}),R=(a(728),function(e){var t=e.showAlert,c=e.content,o=Object(n.useState)({mail:"",psw:"",name:"",rePsw:""}),s=Object(i.a)(o,2),l=s[0],m=s[1],E=Object(n.useState)({mail:"",psw:"",rePsw:"",name:"",submit:""}),O=Object(i.a)(E,2),w=O[0],h=O[1],N=Object(n.useState)(!1),y=Object(i.a)(N,2),C=y[0],x=y[1],k=function(e){m(Object(b.a)(Object(b.a)({},l),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"formWrapper"},r.a.createElement("p",{className:"signinTxt"},c.signupTitle),r.a.createElement("form",{className:"signinForm",onSubmit:function(e){e.preventDefault(),x(!0),h((function(e){return Object(b.a)(Object(b.a)({},e),{},{submit:""})}));var t=l.mail&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(l.mail)?(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{mail:c.mailError})})),!1):l.mail?(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{mail:""})})),!0):(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{mail:c.mailRequired})})),!1),n=l.name?(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{name:""})})),!0):(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{name:c.nameRequired})})),!1),r=l.psw&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(l.psw)?(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{psw:c.pswRule})})),!1):l.psw?(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{psw:""})})),!0):(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{psw:c.pswRequired})})),!1),o=l.psw!==l.rePsw?(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{rePsw:c.rePswError})})),!1):l.rePsw?(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{rePsw:""})})),!0):(h((function(e){return Object(b.a)(Object(b.a)({},e),{},{rePsw:c.rePswRequired})})),!1);if(t&&r&&o&&n){var i=new u.a.User;i.set("username",l.name),i.set("email",l.mail),i.set("password",l.psw),i.set("name",l.name),i.signUp().then((function(e){console.log("User signed up",e),h((function(e){return Object(b.a)(Object(b.a)({},e),{},{submit:c.submitOk})})),function(){var e=a(729),t={email:l.mail},n=e.request({hostname:"https://parseapi.back4app.com",path:"/verificationEmailRequest",method:"POST",headers:{"X-Parse-Application-Id":"kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9","X-Parse-REST-API-Key":"od4o0RAtgQzAICZY1LdEiVrItZN2trnrtcQX4hve","Content-Type":"application/json"}},(function(e){e.setEncoding("utf8"),e.on("data",(function(e){console.log("BODY: ".concat(e))})),e.on("end",(function(){console.log("No more data in response.")}))}));n.on("error",(function(e){console.error("Problem with request: ".concat(e.message))})),n.write(t),n.end()}()})).catch((function(e){h((function(e){return Object(b.a)(Object(b.a)({},e),{},{submit:c.submitError})}))})).finally((function(){return x(!1)}))}else x(!1)}},r.a.createElement(v,{name:"name",account:l.name,accountChange:k,placeholder:c.namePlaceholder,type:""},r.a.createElement("span",{className:"svg"},r.a.createElement(d.b,null))),r.a.createElement(g,{txt:w.name}),r.a.createElement(v,{name:"mail",account:l.mail,accountChange:k,placeholder:"Mail",type:"mail"},r.a.createElement("span",{className:"svg"},r.a.createElement(f.b,null))),r.a.createElement(g,{txt:w.mail}),r.a.createElement("div",{className:"inputInfoContainer space"},r.a.createElement("div",{className:"inputInfoWrapper"},r.a.createElement("span",null,r.a.createElement(d.a,null)),r.a.createElement("input",{className:"inputInfo",name:"psw",type:"password",value:l.psw,onChange:k,placeholder:c.pswPlaceholder})),r.a.createElement(f.a,{onClick:function(){return t()},className:"info"})),r.a.createElement(g,{txt:w.psw}),r.a.createElement(v,{name:"rePsw",account:l.rePsw,accountChange:k,placeholder:c.rePswPlaceholder,type:"password"},r.a.createElement("span",null,r.a.createElement(d.a,null))),r.a.createElement(g,{txt:w.rePsw}),r.a.createElement("div",{className:"signinBtnWrapper"},r.a.createElement(j,{loading:C,txt:c.submitBtn})),r.a.createElement(g,{txt:w.submit})))}),S=(a(744),function(e){var t=e.txt,a=e.aceptar,n=e.txtBtn,c=e.display;return r.a.createElement("div",{className:c?"alert":"noAlert"},r.a.createElement("div",{className:"alertBack"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"txtWrap"},r.a.createElement("span",{className:"txt"},t)),r.a.createElement("div",{className:"btnWrap"},r.a.createElement("button",{className:"btn",onClick:function(){return a()}},n)))))}),A=a(335),q=a(336),T=(a(745),function(e){var t=e.history,a=Object(n.useContext)(y).lang,c=Object(n.useState)(!1),o=Object(i.a)(c,2),s=o[0],l=o[1],u=Object(n.useState)("singup"),p=Object(i.a)(u,2),b=p[0],f=p[1];Object(n.useEffect)((function(){"ca"===a?f((function(){return A})):"es"===a&&f((function(){return q}))}),[a]);var d=function(){l(!s)};return r.a.createElement("div",null,r.a.createElement(N,null,r.a.createElement(C,null)),r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"formContainer fade"},r.a.createElement(R,{history:function(e){t.push("/".concat(e))},content:b,showAlert:d}),r.a.createElement("div",{className:"linkWrap"},r.a.createElement(m.b,{to:"/login"},b.back))),r.a.createElement(S,{txt:b.pswRule,txtBtn:b.accept,display:s,aceptar:d})))}),B=a(337),M=Object(n.createContext)("m"),I=(a(746),function(e){var t=e.content,a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],s=c[1],l=Object(n.useContext)(M).setMenu,u=Object(n.useState)({first:!0,second:!1}),p=Object(i.a)(u,2),b=p[0],f=p[1],d=function(e){switch(e){case"1":f((function(){return{first:!0,second:!1}})),console.log("content en navbar",t),l((function(){return"hola"}));break;case"2":f((function(){return{first:!1,second:!0}}));break;default:f((function(){return{first:!0,second:!1}}))}};return r.a.createElement("div",{className:o?"navbar responsive":"navbar"},r.a.createElement(m.b,{onClick:function(){return d("1")},className:"link brand",to:"/dashboard"},t.brand),r.a.createElement("div",{className:o?"panel responsive":"panel"},r.a.createElement(m.b,{onClick:function(){return d("1")},className:b.first?"link selected":"link",to:"/dashboard"},t.booking),r.a.createElement(m.b,{onClick:function(){return d("2")},className:b.second?"link selected":"link",to:"/myspace"},t.myBooking),r.a.createElement("div",{className:"lang"},r.a.createElement(C,null))),r.a.createElement("div",{className:"icon",onClick:function(){s((function(e){return!e}))}},r.a.createElement(B.a,null)))}),L=a(338),W=a(339),J=(a(747),function(e){var t=e.children,a=Object(n.useContext)(M).menu,c=Object(n.useContext)(y).lang,o=Object(n.useState)("login"),s=Object(i.a)(o,2),l=s[0],u=s[1];return Object(n.useEffect)((function(){"ca"===c?u((function(){return L})):"es"===c&&u((function(){return W}))}),[c]),r.a.createElement("div",{className:"layout"},r.a.createElement(I,{content:l}),r.a.createElement("div",{className:"header"},a),t)}),z=a(340),Z=a(341),U=(a(748),function(e){var t=e.time;return r.a.createElement("div",{className:"timebadge"},r.a.createElement("span",null,t))}),D=(a(749),function(e){var t=e.name,a=e.time;return r.a.createElement("div",{className:"room"},r.a.createElement("div",{className:"title"},t),r.a.createElement("div",{className:"time"},a.map((function(e){return r.a.createElement(U,{time:e})}))))}),F=(a(750),function(e){var t=Object(n.useContext)(y).lang,a=Object(n.useState)("Reservas"),c=Object(i.a)(a,2),o=(c[0],c[1]),s=Object(n.useState)([{attributes:{name:"fake",times:["f","a"]}}]),l=Object(i.a)(s,2),m=l[0],p=l[1];return Object(n.useEffect)((function(){"ca"===t?o((function(){return z})):"es"===t&&o((function(){return Z}))}),[t]),Object(n.useEffect)((function(){var e=u.a.Object.extend("Rooms"),t=new u.a.Query(e);t.count().then((function(e){console.log("ParseObjects found: ".concat(e))})),t.find().then((function(e){p((function(){return e}))}))}),[]),r.a.createElement("div",{className:"dashboard"},m.map((function(e){return r.a.createElement(D,{key:e._objCount,name:e.attributes.name,time:e.attributes.times})})),console.log("Dashboard -> rooms",m))}),K=a(342),V=a(343),H=function(e){var t=Object(n.useContext)(y).lang,a=Object(n.useState)("mysapce"),c=Object(i.a)(a,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){"ca"===t?s((function(){return K})):"es"===t&&s((function(){return V}))}),[t]),r.a.createElement("div",null,o.title)},Y=a(344),$=function(e){var t=e.component,a=e.layout,c=e.render,o=Object(Y.a)(e,["component","layout","render"]),i=Object(n.useContext)(w).user;return r.a.createElement(s.b,Object.assign({},o,{render:function(e){return i.logged?t?r.a.createElement(a,null,r.a.createElement(t,e)):c(e):r.a.createElement(s.a,{to:"/login"})}}))};var Q=function(){var e=Object(n.useState)("es"),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)("Booking"),l=Object(i.a)(o,2),m=l[0],p=l[1],b="kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9",f=Object(n.useState)(function(){var e=JSON.parse(localStorage.getItem("Parse/".concat(b,"/currentUser")));return e&&e.sessionToken?{logged:!0,name:e.name,email:e.mail,token:e.sessionToken,id:e.objectId}:{logged:!1}}()),d=Object(i.a)(f,2),E=d[0],O=d[1];return u.a.serverURL="https://parseapi.back4app.com",u.a.initialize(b,"YxSrKWAZV2eZw5riHbZWbKr75aBjr2NyuKrll60W"),r.a.createElement(y.Provider,{value:{lang:a,setLang:c}},r.a.createElement(w.Provider,{value:{user:E,setUser:O}},r.a.createElement(M.Provider,{value:{menu:m,setMenu:p}},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/login",component:P}),r.a.createElement(s.b,{path:"/signup",component:T}),r.a.createElement($,{path:"/dashboard",component:F,layout:J}),r.a.createElement($,{path:"/myspace",component:H,layout:J}),r.a.createElement(s.a,{from:"/",to:"/dashboard"})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(m.a,null,r.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[345,1,2]]]);
//# sourceMappingURL=main.b45c1692.chunk.js.map