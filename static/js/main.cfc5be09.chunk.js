(this["webpackJsonpreact-booking"]=this["webpackJsonpreact-booking"]||[]).push([[0],{332:function(e){e.exports=JSON.parse('{"pswRule":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero.","pswRequired":"Contrase\xf1a requerida","pswPlaceholder":"Contrase\xf1a","accept":"Aceptar","loginTitle":"Entrar","signup":"Crear cuenta","submitBtn":"Entrar","submitError":"Error al entrar","submitErrorVerify":"Mail no verificado","recoveryTxt":"Recuperar","recoveryA":"usuario y contrase\xf1a","mailPlaceholder":"Mail","mailError":"Mail no v\xe1lido","mailRequired":"Mail requerido"}')},333:function(e){e.exports=JSON.parse('{"pswRule":"La contrasenya ha de contenir m\xednim 8 car\xe0cters, una maj\xfascula, una min\xfascula i un n\xfamero.","accept":"Acceptar","pswRequired":"Contrasenya obligatoria","pswPlaceholder":"Contrasenya","loginTitle":"Entrar","signup":"Crear un compte","submitBtn":"Entrar","submitError":"Error al entrar","submitErrorVerify":"Mail no verificat","recoveryTxt":"Recuperar","recoveryA":"usuari i contrasenya","mailPlaceholder":"Mail","mailError":"Mail no v\xe0lid","mailRequired":"Mail obligatori"}')},335:function(e){e.exports=JSON.parse('{"mailPlaceholder":"Mail","mailError":"Mail no v\xe0lid","mailRequired":"Mail obligatori","nameError":"Nom no v\xe0lid","namePlaceholder":"Nom complet","nameRquired":"Nom obligatori","pswPlaceholder":"Contrasenya","pswRequired":"Contrasenya obligatoria","rePswPlaceholder":"Repetir contrasenya","rePswError":"Les contrasenyes no coincidixen","pswRule":"La contrasenya ha de contenir m\xednim 8 car\xe0cters, una maj\xfascula, una min\xfascula i un n\xfamero.","accept":"Acceptar","loginTitle":"Log in","signupTitle":"Crear compte","signup":"Crear compte","submitBtn":"Crear"}')},336:function(e){e.exports=JSON.parse('{"mailPlaceholder":"Mail","mailError":"Mail no v\xe1lido","mailRequired":"Mail requerido","nameError":"Nombre no v\xe1lido","namePlaceholder":"Nombre completo","nameRquired":"Nombre requerido","pswPlaceholder":"Contrase\xf1a","pswError":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero","pswRequired":"Contrase\xf1a requerida","rePswPlaceholder":"Repetir contrase\xf1a","rePswError":"Las contrase\xf1as no coinciden","rePswRequired":"Campo requierido","pswRule":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero.","accept":"Aceptar","loginTitle":"Log in","signupTitle":"Reg\xedstrate","signup":"Crear cuenta","submitBtn":"Registrarse"}')},337:function(e,a,t){e.exports=t(738)},342:function(e,a,t){},567:function(e,a){},569:function(e,a){},580:function(e,a){},582:function(e,a){},608:function(e,a){},610:function(e,a){},611:function(e,a){},617:function(e,a){},619:function(e,a){},637:function(e,a){},640:function(e,a){},656:function(e,a){},659:function(e,a){},709:function(e,a,t){},710:function(e,a,t){},711:function(e,a,t){},712:function(e,a,t){},713:function(e,a,t){},714:function(e,a,t){},715:function(e,a,t){},720:function(e,a,t){},724:function(e,a){},726:function(e,a){},736:function(e,a,t){},737:function(e,a,t){},738:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),c=t(329),i=t.n(c),o=(t(342),t(24)),l=t(18),s=t(86),u=t.n(s),m=t(126),p=t(102),d=t(4),f=t(128),b=t(103),E=t(330),j=t.n(E),w=(t(709),function(e){var a=e.txt,t=e.loading;return r.a.createElement("button",{type:"submit",className:"submitBtn"},a,r.a.createElement("span",{className:"spin"},r.a.createElement(j.a,{loading:t,color:"#fff",size:12})))}),g=(t(710),function(e){var a=e.children,t=e.account,n=e.accountChange,c=e.placeholder,i=e.type,o=e.name;return r.a.createElement("div",{className:"inputWrapper center space"},a,r.a.createElement("input",{className:"input",name:o,type:i,value:t,onChange:n,placeholder:c}))}),O=(t(711),function(e){var a=e.txt;return r.a.createElement("div",{className:"loginError"},a)}),v=(t(712),function(e){var a=e.content,t=Object(n.useState)({mail:"",psw:""}),c=Object(o.a)(t,2),i=c[0],l=c[1],s=Object(n.useState)({mail:"",psw:"",submit:""}),m=Object(o.a)(s,2),E=m[0],j=m[1],v=Object(n.useState)(!1),h=Object(o.a)(v,2),N=h[0],P=h[1],y=function(e){j((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:"",psw:""})})),l(Object(d.a)(Object(d.a)({},i),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"formWrapper"},r.a.createElement("p",{className:"loginTxt"},a.loginTitle),r.a.createElement("form",{className:"loginForm",onSubmit:function(e){e.preventDefault(),P(!0),j((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:""})}));var t=i.mail&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i.mail)?(j((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:a.mailError})})),!1):i.mail?(j((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:""})})),!0):(j((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:a.mailRequired})})),!1),n=i.psw&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(i.psw)?(j((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:a.pswRule})})),!1):i.psw?(j((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:""})})),!0):(j((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:a.pswRequired})})),!1);t&&n?u.a.User.logIn(i.mail,i.psw).then((function(e){console.log("User LOGEDIN",JSON.stringify(e))})).catch((function(e){205===e.code?j((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:a.submitErrorVerify})})):j((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:a.submitError})}))})).finally((function(){P(!1)})):P(!1)}},r.a.createElement(g,{name:"mail",account:i.mail,accountChange:y,placeholder:"Mail",type:"mail"},r.a.createElement("span",{className:"svg"},r.a.createElement(f.b,null))),r.a.createElement(O,{txt:E.mail}),r.a.createElement(g,{name:"psw",account:i.psw,accountChange:y,placeholder:a.pswPlaceholder,type:"password"},r.a.createElement("span",null,r.a.createElement(b.a,null))),r.a.createElement(O,{txt:E.psw}),r.a.createElement("div",{className:"loginBtnWrapper space"},r.a.createElement(w,{loading:N,txt:a.submitBtn})),r.a.createElement(O,{txt:E.submit}),r.a.createElement("div",{className:"space recover"},r.a.createElement("span",null,a.recoveryTxt," ",r.a.createElement("a",{href:"mailto:support@gmail.com"},a.recoveryA)))))}),h=(t(713),function(e){var a=e.children;return r.a.createElement("div",{className:"transparentNav"},a)}),N=Object(n.createContext)(""),P=(t(714),function(){var e=Object(n.useContext)(N),a=e.lang,t=e.setLang,c=Object(n.useState)(!1),i=Object(o.a)(c,2),l=i[0],s=i[1],u=function(e){"ca"===e?t("ca"):"es"===e&&t("es"),s((function(e){return!e}))},m=function(){s((function(e){return!e}))};return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{onClick:m,className:"dropbtn"},"es"===a?"ESP":"ca"===a?"CAT":"ENG"),r.a.createElement("div",{onClick:m,className:"arrow"}),r.a.createElement("div",{className:l?"dropdown-content":"noDropdown"},r.a.createElement("div",{className:"langDrop",onClick:function(){return u("es")}},"ESP"),r.a.createElement("div",{className:"langDrop",onClick:function(){return u("ca")}},"CAT")))}),y=t(332),C=t(333),x=(t(715),function(){var e=Object(n.useContext)(N).lang,a=Object(n.useState)("login"),t=Object(o.a)(a,2),c=t[0],i=t[1];return Object(n.useEffect)((function(){"ca"===e?i((function(){return C})):"es"===e&&i((function(){return y}))}),[e]),r.a.createElement("div",null,r.a.createElement(h,null,r.a.createElement(P,null)),r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"formContainer fade"},r.a.createElement(v,{content:c}),r.a.createElement("div",{className:"linkWrap"},r.a.createElement(m.b,{to:"/signup"},c.signup)))))}),R=(t(720),function(e){var a=e.showAlert,c=e.content,i=Object(n.useState)({mail:"",psw:"",name:"",rePsw:""}),l=Object(o.a)(i,2),s=l[0],m=l[1],E=Object(n.useState)({mail:"",psw:"",rePsw:"",name:"",submit:""}),j=Object(o.a)(E,2),v=j[0],h=j[1],N=Object(n.useState)(!1),P=Object(o.a)(N,2),y=P[0],C=P[1],x=function(e){m(Object(d.a)(Object(d.a)({},s),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"formWrapper"},r.a.createElement("p",{className:"signinTxt"},c.signupTitle),r.a.createElement("form",{className:"signinForm",onSubmit:function(e){e.preventDefault(),C(!0);var a=s.mail&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s.mail)?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:c.mailError})})),!1):s.mail?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:""})})),!0):(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:c.mailRequired})})),!1),n=s.name?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{name:""})})),!0):(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{name:c.nameRequired})})),!1),r=s.psw&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(s.psw)?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:c.pswRule})})),!1):s.psw?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:""})})),!0):(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:c.pswRequired})})),!1),i=s.psw!==s.rePsw?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{rePsw:c.rePswError})})),!1):s.rePsw?(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{rePsw:""})})),!0):(h((function(e){return Object(d.a)(Object(d.a)({},e),{},{rePsw:c.rePswRequired})})),!1);if(a&&r&&i&&n){var o=new u.a.User;o.set("username",s.name),o.set("email",s.mail),o.set("password",s.psw),o.signUp().then((function(e){console.log("User signed up",e),function(){var e=t(721),a={email:s.mail},n=e.request({hostname:"https://parseapi.back4app.com",path:"/verificationEmailRequest",method:"POST",headers:{"X-Parse-Application-Id":"kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9","X-Parse-REST-API-Key":"od4o0RAtgQzAICZY1LdEiVrItZN2trnrtcQX4hve","Content-Type":"application/json"}},(function(e){e.setEncoding("utf8"),e.on("data",(function(e){console.log("BODY: ".concat(e))})),e.on("end",(function(){console.log("No more data in response.")}))}));n.on("error",(function(e){console.error("Problem with request: ".concat(e.message))})),n.write(a),n.end()}()})).catch((function(e){console.error("Error while signing up user",e)})).finally((function(){return C(!1)}))}else C(!1)}},r.a.createElement(g,{name:"name",account:s.name,accountChange:x,placeholder:c.namePlaceholder,type:""},r.a.createElement("span",{className:"svg"},r.a.createElement(b.b,null))),r.a.createElement(O,{txt:v.name}),r.a.createElement(g,{name:"mail",account:s.mail,accountChange:x,placeholder:"Mail",type:"mail"},r.a.createElement("span",{className:"svg"},r.a.createElement(f.b,null))),r.a.createElement(O,{txt:v.mail}),r.a.createElement("div",{className:"inputInfoContainer space"},r.a.createElement("div",{className:"inputInfoWrapper"},r.a.createElement("span",null,r.a.createElement(b.a,null)),r.a.createElement("input",{className:"inputInfo",name:"psw",type:"password",value:s.psw,onChange:x,placeholder:c.pswPlaceholder})),r.a.createElement(f.a,{onClick:function(){return a()},className:"info"})),r.a.createElement(O,{txt:v.psw}),r.a.createElement(g,{name:"rePsw",account:s.rePsw,accountChange:x,placeholder:c.rePswPlaceholder,type:"password"},r.a.createElement("span",null,r.a.createElement(b.a,null))),r.a.createElement(O,{txt:v.rePsw}),r.a.createElement("div",{className:"signinBtnWrapper"},r.a.createElement(w,{loading:y,txt:c.submitBtn})),r.a.createElement(O,{txt:v.submit})))}),A=(t(736),function(e){var a=e.txt,t=e.aceptar,n=e.txtBtn,c=e.display;return r.a.createElement("div",{className:c?"alert":"noAlert"},r.a.createElement("div",{className:"alertBack"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"txtWrap"},r.a.createElement("span",{className:"txt"},a)),r.a.createElement("div",{className:"btnWrap"},r.a.createElement("button",{className:"btn",onClick:function(){return t()}},n)))))}),q=t(335),S=t(336),k=(t(737),function(){var e=Object(n.useContext)(N).lang,a=Object(n.useState)(!1),t=Object(o.a)(a,2),c=t[0],i=t[1],l=Object(n.useState)("singup"),s=Object(o.a)(l,2),u=s[0],m=s[1];Object(n.useEffect)((function(){"ca"===e?m((function(){return q})):"es"===e&&m((function(){return S}))}),[e]);var p=function(){i(!c)};return r.a.createElement("div",null,r.a.createElement(h,null,r.a.createElement(P,null)),r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"formContainer fade"},r.a.createElement(R,{content:u,showAlert:p})),r.a.createElement(A,{txt:u.pswRule,txtBtn:u.accept,display:c,aceptar:p})))}),T=Object(n.createContext)(),B=function(e){var a=Object(n.useState)({logged:!0,name:"",email:"",token:"",id:""}),t=Object(o.a)(a,2),c=t[0],i=t[1];return r.a.createElement(T.Provider,{value:[c,i]},e.children)};var M=function(){var e=Object(n.useState)("es"),a=Object(o.a)(e,2),t=a[0],c=a[1];return u.a.serverURL="https://parseapi.back4app.com",u.a.initialize("kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9","YxSrKWAZV2eZw5riHbZWbKr75aBjr2NyuKrll60W"),r.a.createElement(N.Provider,{value:{lang:t,setLang:c}},r.a.createElement(B,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/login",component:x}),r.a.createElement(l.b,{path:"/signup",component:k}),r.a.createElement(l.a,{from:"/",to:"/login"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(m.a,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[337,1,2]]]);
//# sourceMappingURL=main.cfc5be09.chunk.js.map