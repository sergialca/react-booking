(this["webpackJsonpreact-booking"]=this["webpackJsonpreact-booking"]||[]).push([[0],{203:function(e){e.exports=JSON.parse('{"title":"Reserves","complete":"No hi ha hores disponibles"}')},204:function(e){e.exports=JSON.parse('{"title":"Reservas","complete":"No hay horas disponibles"}')},349:function(e){e.exports=JSON.parse('{"pswRule":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero.","pswRequired":"Contrase\xf1a requerida","pswPlaceholder":"Contrase\xf1a","accept":"Aceptar","loginTitle":"Entrar","signup":"Crear cuenta","submitBtn":"Entrar","submitError":"Error al entrar","submitErrorVerify":"Mail no verificado","recoveryTxt":"Recuperar","recoveryA":"usuario y contrase\xf1a","mailPlaceholder":"Mail","mailError":"Mail no v\xe1lido","mailRequired":"Mail requerido"}')},350:function(e){e.exports=JSON.parse('{"pswRule":"La contrasenya ha de contenir m\xednim 8 car\xe0cters, una maj\xfascula, una min\xfascula i un n\xfamero.","accept":"Acceptar","pswRequired":"Contrasenya obligatoria","pswPlaceholder":"Contrasenya","loginTitle":"Entrar","signup":"Crear un compte","submitBtn":"Entrar","submitError":"Error al entrar","submitErrorVerify":"Mail no verificat","recoveryTxt":"Recuperar","recoveryA":"usuari i contrasenya","mailPlaceholder":"Mail","mailError":"Mail no v\xe0lid","mailRequired":"Mail obligatori"}')},352:function(e){e.exports=JSON.parse('{"mailPlaceholder":"Mail","mailError":"Mail no v\xe0lid","mailRequired":"Mail obligatori","nameError":"Nom no v\xe0lid","namePlaceholder":"Nom complet","nameRequired":"Nom obligatori","pswPlaceholder":"Contrasenya","pswRequired":"Contrasenya obligatoria","rePswPlaceholder":"Repetir contrasenya","rePswError":"Les contrasenyes no coincideixen","rePswRequired":"Camp obligatori","pswRule":"La contrasenya ha de contenir m\xednim 8 car\xe0cters, una maj\xfascula, una min\xfascula i un n\xfamero.","accept":"Acceptar","loginTitle":"Log in","signupTitle":"Crear compte","signup":"Crear compte","submitBtn":"Crear","submitError":"Error a l\'hora de registrar-se","submitOk":"Enviant mail de confirmaci\xf3","back":"Tornar enrere"}')},353:function(e){e.exports=JSON.parse('{"mailPlaceholder":"Mail","mailError":"Mail no v\xe1lido","mailRequired":"Mail requerido","nameError":"Nombre no v\xe1lido","namePlaceholder":"Nombre completo","nameRequired":"Nombre requerido","pswPlaceholder":"Contrase\xf1a","pswError":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero","pswRequired":"Contrase\xf1a requerida","rePswPlaceholder":"Repetir contrase\xf1a","rePswError":"Las contrase\xf1as no coinciden","rePswRequired":"Campo requierido","pswRule":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero.","accept":"Aceptar","loginTitle":"Log in","signupTitle":"Reg\xedstrate","signup":"Crear cuenta","submitBtn":"Registrarse","submitError":"Error al registrarse","submitOk":"Enviando mail de confirmaci\xf3n","back":"Volver"}')},355:function(e){e.exports=JSON.parse('{"booking":"Reservar","myBooking":"Les meves reserves","brand":"Home"}')},356:function(e){e.exports=JSON.parse('{"booking":"Reservar","myBooking":"Mis reservas","brand":"Home"}')},357:function(e){e.exports=JSON.parse('{"title":"Les meves reserves"}')},358:function(e){e.exports=JSON.parse('{"title":"Mis reservas"}')},361:function(e,t,a){e.exports=a(783)},366:function(e,t,a){},590:function(e,t){},592:function(e,t){},603:function(e,t){},605:function(e,t){},631:function(e,t){},633:function(e,t){},634:function(e,t){},640:function(e,t){},642:function(e,t){},660:function(e,t){},663:function(e,t){},679:function(e,t){},682:function(e,t){},732:function(e,t,a){},733:function(e,t,a){},734:function(e,t,a){},735:function(e,t,a){},736:function(e,t,a){},737:function(e,t,a){},738:function(e,t,a){},743:function(e,t,a){},747:function(e,t){},749:function(e,t){},759:function(e,t,a){},760:function(e,t,a){},761:function(e,t,a){},762:function(e,t,a){},763:function(e,t,a){},764:function(e,t,a){},765:function(e,t,a){},782:function(e,t,a){},783:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(346),o=a.n(c),i=(a(366),a(8)),s=a(20),u=a(34),l=a.n(u),m=a(46),p=a(106),d=a(2),b=a(132),f=a(107),E=a(347),v=a.n(E),j=(a(732),function(e){var t=e.txt,a=e.loading;return r.a.createElement("button",{type:"submit",className:"submitBtn"},t,r.a.createElement("span",{className:"spin"},r.a.createElement(v.a,{loading:a,color:"#fff",size:12})))}),O=(a(733),function(e){var t=e.children,a=e.account,n=e.accountChange,c=e.placeholder,o=e.type,i=e.name;return r.a.createElement("div",{className:"inputWrapper center space"},t,r.a.createElement("input",{className:"input",name:i,type:o,value:a,onChange:n,placeholder:c}))}),g=(a(734),function(e){var t=e.txt;return r.a.createElement("div",{className:"loginError"},t)}),h=Object(n.createContext)("h"),w=(a(735),function(e){var t=e.content,a=e.history,c=Object(n.useState)({mail:"",psw:""}),o=Object(i.a)(c,2),s=o[0],u=o[1],m=Object(n.useState)({mail:"",psw:"",submit:""}),E=Object(i.a)(m,2),v=E[0],w=E[1],y=Object(n.useState)(!1),N=Object(i.a)(y,2),x=N[0],k=N[1],C=Object(n.useContext)(h).setUser,P=function(e){w((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:"",psw:""})})),u(Object(d.a)(Object(d.a)({},s),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"formWrapper"},r.a.createElement("p",{className:"loginTxt"},t.loginTitle),r.a.createElement("form",{className:"loginForm",onSubmit:function(e){e.preventDefault(),k(!0),w((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:""})}));var n=s.mail&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(s.mail)?(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:t.mailError})})),!1):s.mail?(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:""})})),!0):(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:t.mailRequired})})),!1),r=s.psw&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(s.psw)?(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:t.pswRule})})),!1):s.psw?(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:""})})),!0):(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:t.pswRequired})})),!1);n&&r?l.a.User.logIn(s.mail,s.psw).then((function(e){console.log("User LOGEDIN",JSON.stringify(e)),C({logged:!0,name:e.name,email:e.mail,token:e.sessionToken,id:e.objectId}),a("dashboard")})).catch((function(e){console.log("logIn -> error",e),205===e.code?w((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:t.submitErrorVerify})})):w((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:t.submitError})}))})).finally((function(){k(!1)})):k(!1)}},r.a.createElement(O,{name:"mail",account:s.mail,accountChange:P,placeholder:"Mail",type:"mail"},r.a.createElement("span",{className:"svg"},r.a.createElement(b.b,null))),r.a.createElement(g,{txt:v.mail}),r.a.createElement(O,{name:"psw",account:s.psw,accountChange:P,placeholder:t.pswPlaceholder,type:"password"},r.a.createElement("span",null,r.a.createElement(f.a,null))),r.a.createElement(g,{txt:v.psw}),r.a.createElement("div",{className:"loginBtnWrapper space"},r.a.createElement(j,{loading:x,txt:t.submitBtn})),r.a.createElement(g,{txt:v.submit}),r.a.createElement("div",{className:"space recover"},r.a.createElement("span",null,t.recoveryTxt," ",r.a.createElement("a",{href:"mailto:support@gmail.com"},t.recoveryA)))))}),y=(a(736),function(e){var t=e.children;return r.a.createElement("div",{className:"transparentNav"},t)}),N=Object(n.createContext)(""),x=(a(737),function(){var e=Object(n.useContext)(N),t=e.lang,a=e.setLang,c=Object(n.useState)(!1),o=Object(i.a)(c,2),s=o[0],u=o[1],l=function(e){"ca"===e?a("ca"):"es"===e&&a("es"),u((function(e){return!e}))},m=function(){u((function(e){return!e}))};return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{onClick:m,className:"dropbtn"},"es"===t?"ESP":"ca"===t?"CAT":"ENG"),r.a.createElement("div",{onClick:m,className:"arrow"}),r.a.createElement("div",{className:s?"dropdown-content":"noDropdown"},r.a.createElement("div",{className:"langDrop",onClick:function(){return l("es")}},"ESP"),r.a.createElement("div",{className:"langDrop",onClick:function(){return l("ca")}},"CAT")))}),k=a(349),C=a(350),P=(a(738),function(e){var t=e.history,a=Object(n.useContext)(N).lang,c=Object(n.useState)("login"),o=Object(i.a)(c,2),s=o[0],u=o[1];Object(n.useEffect)((function(){"ca"===a?u((function(){return C})):"es"===a&&u((function(){return k}))}),[a]);return r.a.createElement("div",null,r.a.createElement(y,null,r.a.createElement(x,null)),r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"formContainer fade"},r.a.createElement(w,{history:function(e){t.push("/".concat(e))},content:s}),r.a.createElement("div",{className:"linkWrap"},r.a.createElement(m.b,{to:"/signup"},s.signup)))))}),S=(a(743),function(e){var t=e.showAlert,c=e.content,o=Object(n.useState)({mail:"",psw:"",name:"",rePsw:""}),s=Object(i.a)(o,2),u=s[0],m=s[1],E=Object(n.useState)({mail:"",psw:"",rePsw:"",name:"",submit:""}),v=Object(i.a)(E,2),h=v[0],w=v[1],y=Object(n.useState)(!1),N=Object(i.a)(y,2),x=N[0],k=N[1],C=function(e){m(Object(d.a)(Object(d.a)({},u),{},Object(p.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"formWrapper"},r.a.createElement("p",{className:"signinTxt"},c.signupTitle),r.a.createElement("form",{className:"signinForm",onSubmit:function(e){e.preventDefault(),k(!0),w((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:""})}));var t=u.mail&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(u.mail)?(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:c.mailError})})),!1):u.mail?(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:""})})),!0):(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{mail:c.mailRequired})})),!1),n=u.name?(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{name:""})})),!0):(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{name:c.nameRequired})})),!1),r=u.psw&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(u.psw)?(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:c.pswRule})})),!1):u.psw?(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:""})})),!0):(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{psw:c.pswRequired})})),!1),o=u.psw!==u.rePsw?(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{rePsw:c.rePswError})})),!1):u.rePsw?(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{rePsw:""})})),!0):(w((function(e){return Object(d.a)(Object(d.a)({},e),{},{rePsw:c.rePswRequired})})),!1);if(t&&r&&o&&n){var i=new l.a.User;i.set("username",u.name),i.set("email",u.mail),i.set("password",u.psw),i.set("name",u.name),i.signUp().then((function(e){console.log("User signed up",e),w((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:c.submitOk})})),function(){var e=a(744),t={email:u.mail},n=e.request({hostname:"https://parseapi.back4app.com",path:"/verificationEmailRequest",method:"POST",headers:{"X-Parse-Application-Id":"kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9","X-Parse-REST-API-Key":"od4o0RAtgQzAICZY1LdEiVrItZN2trnrtcQX4hve","Content-Type":"application/json"}},(function(e){e.setEncoding("utf8"),e.on("data",(function(e){console.log("BODY: ".concat(e))})),e.on("end",(function(){console.log("No more data in response.")}))}));n.on("error",(function(e){console.error("Problem with request: ".concat(e.message))})),n.write(t),n.end()}()})).catch((function(e){w((function(e){return Object(d.a)(Object(d.a)({},e),{},{submit:c.submitError})}))})).finally((function(){return k(!1)}))}else k(!1)}},r.a.createElement(O,{name:"name",account:u.name,accountChange:C,placeholder:c.namePlaceholder,type:""},r.a.createElement("span",{className:"svg"},r.a.createElement(f.b,null))),r.a.createElement(g,{txt:h.name}),r.a.createElement(O,{name:"mail",account:u.mail,accountChange:C,placeholder:"Mail",type:"mail"},r.a.createElement("span",{className:"svg"},r.a.createElement(b.b,null))),r.a.createElement(g,{txt:h.mail}),r.a.createElement("div",{className:"inputInfoContainer space"},r.a.createElement("div",{className:"inputInfoWrapper"},r.a.createElement("span",null,r.a.createElement(f.a,null)),r.a.createElement("input",{className:"inputInfo",name:"psw",type:"password",value:u.psw,onChange:C,placeholder:c.pswPlaceholder})),r.a.createElement(b.a,{onClick:function(){return t()},className:"info"})),r.a.createElement(g,{txt:h.psw}),r.a.createElement(O,{name:"rePsw",account:u.rePsw,accountChange:C,placeholder:c.rePswPlaceholder,type:"password"},r.a.createElement("span",null,r.a.createElement(f.a,null))),r.a.createElement(g,{txt:h.rePsw}),r.a.createElement("div",{className:"signinBtnWrapper"},r.a.createElement(j,{loading:x,txt:c.submitBtn})),r.a.createElement(g,{txt:h.submit})))}),I=(a(759),function(e){var t=e.txt,a=e.aceptar,n=e.txtBtn,c=e.display;return r.a.createElement("div",{className:c?"alert":"noAlert"},r.a.createElement("div",{className:"alertBack"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"txtWrap"},r.a.createElement("span",{className:"txt"},t)),r.a.createElement("div",{className:"btnWrap"},r.a.createElement("button",{className:"btn",onClick:function(){return a()}},n)))))}),R=a(352),A=a(353),q=(a(760),function(e){var t=e.history,a=Object(n.useContext)(N).lang,c=Object(n.useState)(!1),o=Object(i.a)(c,2),s=o[0],u=o[1],l=Object(n.useState)("singup"),p=Object(i.a)(l,2),d=p[0],b=p[1];Object(n.useEffect)((function(){"ca"===a?b((function(){return R})):"es"===a&&b((function(){return A}))}),[a]);var f=function(){u(!s)};return r.a.createElement("div",null,r.a.createElement(y,null,r.a.createElement(x,null)),r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"formContainer fade"},r.a.createElement(S,{history:function(e){t.push("/".concat(e))},content:d,showAlert:f}),r.a.createElement("div",{className:"linkWrap"},r.a.createElement(m.b,{to:"/login"},d.back))),r.a.createElement(I,{txt:d.pswRule,txtBtn:d.accept,display:s,aceptar:f})))}),T=a(354),B=Object(n.createContext)("m"),M=(a(761),function(e){var t=e.content,a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],s=c[1],u=Object(n.useContext)(B).setMenu,l=Object(n.useState)({first:!0,second:!1}),p=Object(i.a)(l,2),d=p[0],b=p[1],f=function(e){switch(e){case"1":b((function(){return{first:!0,second:!1}})),console.log("content en navbar",t),u((function(){return"Reservar"}));break;case"2":b((function(){return{first:!1,second:!0}})),u((function(){return"Mis Reservas"}));break;default:b((function(){return{first:!0,second:!1}}))}s((function(){return!1}))};return r.a.createElement("div",{className:o?"navbar responsive":"navbar"},r.a.createElement(m.b,{onClick:function(){return f("1")},className:"link brand",to:"/dashboard"},t.brand),r.a.createElement("div",{className:o?"panel responsive":"panel"},r.a.createElement(m.b,{onClick:function(){return f("1")},className:d.first?"link selected":"link",to:"/dashboard"},t.booking),r.a.createElement(m.b,{onClick:function(){return f("2")},className:d.second?"link selected":"link",to:"/myspace"},t.myBooking),r.a.createElement("div",{className:"lang"},r.a.createElement(x,null))),r.a.createElement("div",{className:"icon",onClick:function(){s((function(e){return!e}))}},r.a.createElement(T.a,null)))}),L=a(355),W=a(356),Z=(a(762),function(e){var t=e.children,a=Object(n.useContext)(B).menu,c=Object(n.useContext)(N).lang,o=Object(n.useState)("login"),s=Object(i.a)(o,2),u=s[0],l=s[1];return Object(n.useEffect)((function(){"ca"===c?l((function(){return L})):"es"===c&&l((function(){return W}))}),[c]),r.a.createElement("div",{className:"layout"},r.a.createElement(M,{content:u}),r.a.createElement("div",{className:"header"},a),t)}),z=a(359),D=a(14),J=a.n(D),F=a(52),Y=a(203),Q=a(204),U=Object(n.createContext)("l"),X=(a(763),function(e){var t=e.time,a=e.timeId,c=e.room,o=e.roomId,s=e.setDisplay,u=Object(n.useContext)(U),l=u.logic,m=u.setLogic,p=Object(n.useState)(!1),d=Object(i.a)(p,2),b=d[0],f=d[1],E=function(){var e=new Date;return String(e.getDate()).padStart(2,"0")+"/"+String(e.getMonth()+1).padStart(2,"0")+"/"+e.getFullYear()};return Object(n.useEffect)((function(){l.timeId.id===a&&l.timeId.booked&&f((function(){return!0}))}),[l.timeId.booked]),r.a.createElement("div",{className:b?"noTime":"timebadge",onClick:function(){return m((function(){return{room:c,roomId:o,day:E(),time:t,timeId:{id:a,booked:!1}}})),void s((function(){return{timeAlert:!0}}))}},r.a.createElement("span",null,t))}),K=(a(764),function(e){var t=e.name,a=e.time,n=e.roomId,c=e.day,o=e.setDisplay,i=e.noTimes;return r.a.createElement("div",{className:"room"},r.a.createElement("div",{className:"title"},t),r.a.createElement("div",{className:"time"},a.map((function(e){return"string"===typeof e?i:r.a.createElement(X,{time:e.timeInt,key:e.id,timeId:e.id,room:t,roomId:n,setDisplay:o,day:c})}))))}),V=(a(765),function(e){var t=e.aceptar,a=e.display,c=e.cancelar,o=Object(n.useContext)(U),i=o.logic,s=o.setLogic;return r.a.createElement("div",{className:a?"timeAlert":"noAlert"},r.a.createElement("div",{className:"alertBack"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"txtWrap"},r.a.createElement("span",{className:"txt"},"Est\xe0s seguro que quieres reservar la ".concat(i.room," el dia ").concat(i.day," de ").concat(i.time))),r.a.createElement("div",{className:"btnWrap"},r.a.createElement("button",{className:"btn aceptar",onClick:function(){t(),s((function(e){return Object(d.a)(Object(d.a)({},e),{},{timeId:{id:e.timeId.id,booked:!0}})}))}},"Aceptar"),r.a.createElement("button",{className:"btn",onClick:function(){return c()}},"Cancelar")))))}),_=a(153),H=a.n(_),$="https://parseapi.back4app.com",G="kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9",ee={"X-Parse-Application-Id":G,"X-Parse-REST-API-Key":"od4o0RAtgQzAICZY1LdEiVrItZN2trnrtcQX4hve","Content-Type":"application/json"},te=function(){var e=Object(F.a)(J.a.mark((function e(t,a){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H()({method:"post",url:"".concat($,"/classes/Errors"),headers:ee,data:{code:t.response.data.code,error:t.response.data.error,description:a}});case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ae=function(){var e=Object(F.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H()({method:"get",url:"".concat($,"/users/me"),headers:{"X-Parse-Application-Id":G,"X-Parse-REST-API-Key":"od4o0RAtgQzAICZY1LdEiVrItZN2trnrtcQX4hve","X-Parse-Session-Token":t}});case 3:return a=e.sent,e.abrupt("return",a);case 7:return e.prev=7,e.t0=e.catch(0),te(e.t0,"El token no se ha encontrado al verificar usuario"),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=Object(F.a)(J.a.mark((function e(t,a,n,r){var c;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H()({method:"post",url:"".concat($,"/classes/Booking"),headers:ee,data:{user:{__type:"Pointer",className:"_User",objectId:t},day:n,time:r,room:{__type:"Pointer",className:"Rooms",objectId:a}}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),te(e.t0,"Fallo al crear reserva"),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),re=function(){var e=Object(F.a)(J.a.mark((function e(t,a){var n,r,c,o,i;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.a.Object.extend("Booking"),(r=new l.a.Query(n)).equalTo("room",{__type:"Pointer",className:"Rooms",objectId:a}),r.select("time"),(c=new l.a.Query(n)).equalTo("day",t),c.select("time"),o=l.a.Query.and(r,c),e.next=10,o.find();case 10:return i=e.sent,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ce=function(){var e=Object(F.a)(J.a.mark((function e(){var t,a,n;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.a.Object.extend("Rooms"),a=new l.a.Query(t),e.next=4,a.find();case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=(a(782),function(e){var t=Object(n.useContext)(N).lang,a=Object(n.useContext)(U).logic,c=Object(n.useContext)(h).user,o=Object(n.useState)("Reservas"),s=Object(i.a)(o,2),u=s[0],l=s[1],m=Object(n.useState)({timeAlert:!1}),p=Object(i.a)(m,2),b=p[0],f=p[1],E=Object(n.useState)([{attributes:{name:"fake",times:[{id:0,timeInt:"a-b"},{id:0,timeInt:"a-b"}]}}]),v=Object(i.a)(E,2),j=v[0],O=v[1];Object(n.useEffect)((function(){"ca"===t?l((function(){return Y})):"es"===t&&l((function(){return Q}))}),[t]);var g=function(){var t=Object(F.a)(J.a.mark((function t(){var a;return J.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ae(c.token);case 2:return a=t.sent,t.abrupt("return",a?"":e.history.push("/login"));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var e=Object(F.a)(J.a.mark((function e(){var t,n,r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce();case 2:t=e.sent,n=J.a.mark((function e(n){var r;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re(a.day,t[n].id);case 2:(r=e.sent).length>0&&r.map((function(e){return e.attributes.time})).map((function(e){return t[n].attributes.times.map((function(a,r){return e===a.timeInt&&t[n].attributes.times.splice(r,1),e})),e})),0===t[n].attributes.times.length&&t[n].attributes.times.push("No time available"),O(0===n?function(){return[t[n]]}:function(e){return[].concat(Object(z.a)(e),[t[n]])});case 6:case"end":return e.stop()}}),e)})),r=0;case 5:if(!(r<t.length)){e.next=10;break}return e.delegateYield(n(r),"t0",7);case 7:r++,e.next=5;break;case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return"ca"===t?l((function(){return Y})):"es"===t&&l((function(){return Q})),g(),w(),function(){f((function(e){return Object(d.a)(Object(d.a)({},e),{},{timeAlert:!1})}))}}),[]);var y=function(){var e=Object(F.a)(J.a.mark((function e(){return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(c.id,a.roomId,a.day,a.time);case 2:f((function(e){return Object(d.a)(Object(d.a)({},e),{},{timeAlert:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"dashboard"},j.map((function(e){return r.a.createElement(K,{key:e._objCount,name:e.attributes.name,time:e.attributes.times,roomId:e.id,setDisplay:f,day:a.day,noTimes:u.complete})})),r.a.createElement(V,{display:b.timeAlert,aceptar:y,cancelar:function(){f((function(e){return Object(d.a)(Object(d.a)({},e),{},{timeAlert:!1})}))}}))}),ie=a(357),se=a(358),ue=function(e){var t=Object(n.useContext)(N).lang,a=Object(n.useState)("mysapce"),c=Object(i.a)(a,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){"ca"===t?s((function(){return ie})):"es"===t&&s((function(){return se}))}),[t]),r.a.createElement("div",null,o.title)},le=a(360),me=function(e){var t=e.component,a=e.layout,c=e.render,o=Object(le.a)(e,["component","layout","render"]),i=Object(n.useContext)(h).user;return r.a.createElement(s.b,Object.assign({},o,{render:function(e){return i.logged?t?r.a.createElement(a,{key:"l"},r.a.createElement(t,e)):c(e):r.a.createElement(s.a,{to:"/login"})}}))};var pe=function(){var e=Object(n.useState)("es"),t=Object(i.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)("Booking"),u=Object(i.a)(o,2),m=u[0],p=u[1],d=Object(n.useState)({room:"roomName",roomId:"roomId",day:function(){var e=new Date;return String(e.getDate()).padStart(2,"0")+"/"+String(e.getMonth()+1).padStart(2,"0")+"/"+e.getFullYear()}(),time:"0h-2h",timeId:"t0"}),b=Object(i.a)(d,2),f=b[0],E=b[1],v="kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9",j=Object(n.useState)(function(){var e=JSON.parse(localStorage.getItem("Parse/".concat(v,"/currentUser")));return e&&e.sessionToken?{logged:!0,name:e.name,email:e.mail,token:e.sessionToken,id:e.objectId}:{logged:!1}}()),O=Object(i.a)(j,2),g=O[0],w=O[1];return l.a.serverURL="https://parseapi.back4app.com",l.a.initialize(v,"YxSrKWAZV2eZw5riHbZWbKr75aBjr2NyuKrll60W"),r.a.createElement(N.Provider,{value:{lang:a,setLang:c}},r.a.createElement(h.Provider,{value:{user:g,setUser:w}},r.a.createElement(B.Provider,{value:{menu:m,setMenu:p}},r.a.createElement(U.Provider,{value:{logic:f,setLogic:E}},r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/login",component:P}),r.a.createElement(s.b,{path:"/signup",component:q}),r.a.createElement(me,{path:"/dashboard",component:oe,layout:Z}),r.a.createElement(me,{path:"/myspace",component:ue,layout:Z}),r.a.createElement(s.a,{from:"/",to:"/dashboard"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(m.a,null,r.a.createElement(pe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[361,1,2]]]);
//# sourceMappingURL=main.bc5405a9.chunk.js.map