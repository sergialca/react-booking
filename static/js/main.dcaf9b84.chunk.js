(this["webpackJsonpreact-booking"]=this["webpackJsonpreact-booking"]||[]).push([[0],{1017:function(e,t,a){},1018:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(49),o=a.n(c),s=(a(491),a(12)),i=a(28),l=a(43),u=a.n(l),m=a(63),d=a(141),p=a(2),b=a(85),f=a(142),E=a(198),O=a.n(E),j=(a(857),function(e){var t=e.txt,a=e.loading;return r.a.createElement("button",{type:"submit",className:"submitBtn"},t,r.a.createElement("span",{className:"spin"},r.a.createElement(O.a,{loading:a,color:"#fff",size:12})))}),v=(a(858),function(e){var t=e.children,a=e.account,n=e.accountChange,c=e.placeholder,o=e.type,s=e.name;return r.a.createElement("div",{className:"inputWrapper center space"},t,r.a.createElement("input",{className:"input",name:s,type:o,value:a,onChange:n,placeholder:c}))}),g=(a(859),function(e){var t=e.txt;return r.a.createElement("div",{className:"loginError"},t)}),h=Object(n.createContext)("h"),y=(a(860),function(e){var t=e.content,a=e.history,c=Object(n.useState)({mail:"",psw:""}),o=Object(s.a)(c,2),i=o[0],l=o[1],m=Object(n.useState)({mail:"",psw:"",submit:""}),E=Object(s.a)(m,2),O=E[0],y=E[1],w=Object(n.useState)(!1),N=Object(s.a)(w,2),k=N[0],x=N[1],C=Object(n.useContext)(h).setUser,A=function(e){y((function(e){return Object(p.a)(Object(p.a)({},e),{},{mail:"",psw:""})})),l(Object(p.a)(Object(p.a)({},i),{},Object(d.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"formWrapper"},r.a.createElement("p",{className:"loginTxt"},t.loginTitle),r.a.createElement("form",{className:"loginForm",onSubmit:function(e){e.preventDefault(),x(!0),y((function(e){return Object(p.a)(Object(p.a)({},e),{},{submit:""})}));var n=i.mail&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i.mail)?(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{mail:t.mailError})})),!1):i.mail?(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{mail:""})})),!0):(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{mail:t.mailRequired})})),!1),r=i.psw&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(i.psw)?(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{psw:t.pswRule})})),!1):i.psw?(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{psw:""})})),!0):(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{psw:t.pswRequired})})),!1);n&&r?u.a.User.logIn(i.mail,i.psw).then((function(e){C({logged:!0,name:e.name,email:e.mail,token:e.sessionToken,id:e.objectId}),a("dashboard")})).catch((function(e){205===e.code?y((function(e){return Object(p.a)(Object(p.a)({},e),{},{submit:t.submitErrorVerify})})):y((function(e){return Object(p.a)(Object(p.a)({},e),{},{submit:t.submitError})}))})).finally((function(){x(!1)})):x(!1)}},r.a.createElement(v,{name:"mail",account:i.mail,accountChange:A,placeholder:"Mail",type:"mail"},r.a.createElement("span",{className:"svg"},r.a.createElement(b.b,null))),r.a.createElement(g,{txt:O.mail}),r.a.createElement(v,{name:"psw",account:i.psw,accountChange:A,placeholder:t.pswPlaceholder,type:"password"},r.a.createElement("span",null,r.a.createElement(f.a,null))),r.a.createElement(g,{txt:O.psw}),r.a.createElement("div",{className:"loginBtnWrapper space"},r.a.createElement(j,{loading:k,txt:t.submitBtn})),r.a.createElement(g,{txt:O.submit}),r.a.createElement("div",{className:"space recover"},r.a.createElement("span",null,t.recoveryTxt," ",r.a.createElement("a",{href:"mailto:support@gmail.com"},t.recoveryA)))))}),w=(a(861),function(e){var t=e.children;return r.a.createElement("div",{className:"transparentNav"},t)}),N=Object(n.createContext)(""),k=(a(862),function(){var e=Object(n.useContext)(N),t=e.lang,a=e.setLang,c=Object(n.useState)(!1),o=Object(s.a)(c,2),i=o[0],l=o[1],u=function(e){"ca"===e?a("ca"):"es"===e&&a("es"),l((function(e){return!e}))},m=function(){l((function(e){return!e}))};return r.a.createElement("div",{className:"dropdown"},r.a.createElement("div",{onClick:m,className:"dropbtn"},"es"===t?"ESP":"ca"===t?"CAT":"ENG"),r.a.createElement("div",{onClick:m,className:"arrow"}),r.a.createElement("div",{className:i?"dropdown-content":"noDropdown"},r.a.createElement("div",{className:"langDrop",onClick:function(){return u("es")}},"ESP"),r.a.createElement("div",{className:"langDrop",onClick:function(){return u("ca")}},"CAT")))}),x=a(474),C=a(475),A=(a(863),function(e){var t=e.history,a=Object(n.useContext)(N).lang,c=Object(n.useState)("login"),o=Object(s.a)(c,2),i=o[0],l=o[1];Object(n.useEffect)((function(){"ca"===a?l((function(){return C})):"es"===a&&l((function(){return x}))}),[a]);return r.a.createElement("div",null,r.a.createElement(w,null,r.a.createElement(k,null)),r.a.createElement("div",{className:"login"},r.a.createElement("div",{className:"formContainer fade"},r.a.createElement(y,{history:function(e){t.push("/".concat(e))},content:i}),r.a.createElement("div",{className:"linkWrap"},r.a.createElement(m.b,{to:"/signup"},i.signup)))))}),P=(a(868),function(e){var t=e.showAlert,c=e.content,o=Object(n.useState)({mail:"",psw:"",name:"",rePsw:""}),i=Object(s.a)(o,2),l=i[0],m=i[1],E=Object(n.useState)({mail:"",psw:"",rePsw:"",name:"",submit:""}),O=Object(s.a)(E,2),h=O[0],y=O[1],w=Object(n.useState)(!1),N=Object(s.a)(w,2),k=N[0],x=N[1],C=function(e){m(Object(p.a)(Object(p.a)({},l),{},Object(d.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"formWrapper"},r.a.createElement("p",{className:"signinTxt"},c.signupTitle),r.a.createElement("form",{className:"signinForm",onSubmit:function(e){e.preventDefault(),x(!0),y((function(e){return Object(p.a)(Object(p.a)({},e),{},{submit:""})}));var t=l.mail&&!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(l.mail)?(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{mail:c.mailError})})),!1):l.mail?(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{mail:""})})),!0):(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{mail:c.mailRequired})})),!1),n=l.name?(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{name:""})})),!0):(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{name:c.nameRequired})})),!1),r=l.psw&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(l.psw)?(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{psw:c.pswRule})})),!1):l.psw?(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{psw:""})})),!0):(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{psw:c.pswRequired})})),!1),o=l.psw!==l.rePsw?(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{rePsw:c.rePswError})})),!1):l.rePsw?(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{rePsw:""})})),!0):(y((function(e){return Object(p.a)(Object(p.a)({},e),{},{rePsw:c.rePswRequired})})),!1);if(t&&r&&o&&n){var s=new u.a.User;s.set("username",l.name),s.set("email",l.mail),s.set("password",l.psw),s.set("name",l.name),s.signUp().then((function(e){console.log("User signed up",e),y((function(e){return Object(p.a)(Object(p.a)({},e),{},{submit:c.submitOk})})),function(){var e=a(869),t={email:l.mail},n=e.request({hostname:"https://parseapi.back4app.com",path:"/verificationEmailRequest",method:"POST",headers:{"X-Parse-Application-Id":"kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9","X-Parse-REST-API-Key":"od4o0RAtgQzAICZY1LdEiVrItZN2trnrtcQX4hve","Content-Type":"application/json"}},(function(e){e.setEncoding("utf8"),e.on("data",(function(e){console.log("BODY: ".concat(e))})),e.on("end",(function(){console.log("No more data in response.")}))}));n.on("error",(function(e){console.error("Problem with request: ".concat(e.message))})),n.write(t),n.end()}()})).catch((function(e){y((function(e){return Object(p.a)(Object(p.a)({},e),{},{submit:c.submitError})}))})).finally((function(){return x(!1)}))}else x(!1)}},r.a.createElement(v,{name:"name",account:l.name,accountChange:C,placeholder:c.namePlaceholder,type:""},r.a.createElement("span",{className:"svg"},r.a.createElement(f.b,null))),r.a.createElement(g,{txt:h.name}),r.a.createElement(v,{name:"mail",account:l.mail,accountChange:C,placeholder:"Mail",type:"mail"},r.a.createElement("span",{className:"svg"},r.a.createElement(b.b,null))),r.a.createElement(g,{txt:h.mail}),r.a.createElement("div",{className:"inputInfoContainer space"},r.a.createElement("div",{className:"inputInfoWrapper"},r.a.createElement("span",null,r.a.createElement(f.a,null)),r.a.createElement("input",{className:"inputInfo",name:"psw",type:"password",value:l.psw,onChange:C,placeholder:c.pswPlaceholder})),r.a.createElement(b.a,{onClick:function(){return t()},className:"info"})),r.a.createElement(g,{txt:h.psw}),r.a.createElement(v,{name:"rePsw",account:l.rePsw,accountChange:C,placeholder:c.rePswPlaceholder,type:"password"},r.a.createElement("span",null,r.a.createElement(f.a,null))),r.a.createElement(g,{txt:h.rePsw}),r.a.createElement("div",{className:"signinBtnWrapper"},r.a.createElement(j,{loading:k,txt:c.submitBtn})),r.a.createElement(g,{txt:h.submit})))}),S=(a(884),function(e){var t=e.txt,a=e.aceptar,n=e.txtBtn,c=e.display;return r.a.createElement("div",{className:c?"alert":"noAlert"},r.a.createElement("div",{className:"alertBack"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"txtWrap"},r.a.createElement("span",{className:"txt"},t)),r.a.createElement("div",{className:"btnWrap"},r.a.createElement("button",{className:"btn",onClick:function(){return a()}},n)))))}),R=a(476),I=a(477),T=(a(885),function(e){var t=e.history,a=Object(n.useContext)(N).lang,c=Object(n.useState)(!1),o=Object(s.a)(c,2),i=o[0],l=o[1],u=Object(n.useState)("singup"),d=Object(s.a)(u,2),p=d[0],b=d[1];Object(n.useEffect)((function(){"ca"===a?b((function(){return R})):"es"===a&&b((function(){return I}))}),[a]);var f=function(){l(!i)};return r.a.createElement("div",null,r.a.createElement(w,null,r.a.createElement(k,null)),r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"formContainer fade"},r.a.createElement(P,{history:function(e){t.push("/".concat(e))},content:p,showAlert:f}),r.a.createElement("div",{className:"linkWrap"},r.a.createElement(m.b,{to:"/login"},p.back))),r.a.createElement(S,{txt:p.pswRule,txtBtn:p.accept,display:i,aceptar:f})))}),B=a(478),q=Object(n.createContext)("m"),F=(a(886),function(e){var t=e.content,a=Object(n.useState)(!1),c=Object(s.a)(a,2),o=c[0],i=c[1],l=Object(n.useContext)(q).setMenu,u=Object(n.useState)({first:!0,second:!1}),d=Object(s.a)(u,2),p=d[0],b=d[1],f=function(e){switch(e){case"1":b((function(){return{first:!0,second:!1}})),l((function(){return"Reservar"}));break;case"2":b((function(){return{first:!1,second:!0}})),l((function(){return"Mis"}));break;default:b((function(){return{first:!0,second:!1}}))}i((function(){return!1}))};return r.a.createElement("div",{className:o?"navbar responsive":"navbar"},r.a.createElement(m.b,{onClick:function(){return f("1")},className:"link brand",to:"/dashboard"},t.brand),r.a.createElement("div",{className:o?"panel responsive":"panel"},r.a.createElement(m.b,{onClick:function(){return f("1")},className:p.first?"link selected":"link",to:"/dashboard"},t.booking),r.a.createElement(m.b,{onClick:function(){return f("2")},className:p.second?"link selected":"link",to:"/myspace"},t.myBooking),r.a.createElement("div",{className:"lang"},r.a.createElement(k,null))),r.a.createElement("div",{className:"icon",onClick:function(){i((function(e){return!e}))}},r.a.createElement(B.a,null)))}),M=a(479),D=a(480),L=(a(887),function(e){var t=e.children,a=Object(n.useContext)(q).menu,c=Object(n.useContext)(N).lang,o=Object(n.useState)("login"),i=Object(s.a)(o,2),l=i[0],u=i[1],m=Object(n.useState)("b"),d=Object(s.a)(m,2),p=d[0],b=d[1];return Object(n.useEffect)((function(){"ca"===c?u((function(){return M})):"es"===c&&u((function(){return D}))}),[c]),Object(n.useEffect)((function(){switch(a){case"Reservar":b((function(){return"ca"===c||"es"===c?"Reservar":"Booking"}));break;case"Mis":b((function(){return"ca"===c?"Les meves reserves":"es"===c?"Mis reservas":"My Bookings"}));break;default:b((function(){return"Booking"}))}}),[a,c]),r.a.createElement("div",{className:"layout"},r.a.createElement(F,{content:l}),r.a.createElement("div",{className:"header"},p),t)}),W=a(202),z=a(14),Z=a.n(z),J=a(45),Y=a(268),Q=a(269),U=Object(n.createContext)("b"),K=(a(888),function(e){var t=e.time,a=e.timeId,c=e.room,o=e.roomId,i=e.setDisplay,l=e.dayFormatted,u=Object(n.useContext)(U),m=u.booking,d=u.setBooking,b=Object(n.useState)({dayFormatted:l,timeId:a,time:t,booked:!1}),f=Object(s.a)(b,2),E=f[0],O=f[1];return Object(n.useEffect)((function(){m.dayFormatted===E.dayFormatted&&m.timeId===E.timeId&&m.booked&&O((function(e){return Object(p.a)(Object(p.a)({},e),{},{booked:!0})}))}),[m.booked]),r.a.createElement("div",{className:E.booked?"noTime":"timebadge",onClick:function(){return d((function(){return{dayFormatted:l,room:c,roomId:o,time:t,timeId:a,booked:!1}})),void i((function(e){return Object(p.a)(Object(p.a)({},e),{},{timeAlert:!0})}))}},r.a.createElement("span",null,t))}),V=(a(889),function(e){var t=e.name,a=e.time,n=e.roomId,c=e.dayFormatted,o=e.setDisplay,s=e.noTimes;return r.a.createElement("div",{className:"room"},r.a.createElement("div",{className:"title"},t),r.a.createElement("div",{className:"time"},a.map((function(e){return"string"===typeof e?s:r.a.createElement(K,{time:e.timeInt,key:e.id,timeId:e.id,room:t,roomId:n,setDisplay:o,dayFormatted:c})}))))}),_=a(484),H=Object(n.createContext)("f"),X=(a(890),function(e){var t=e.aceptar,a=e.display,c=e.cancelar,o=e.txt,s=Object(n.useContext)(U).booking,i=Object(n.useContext)(H).filters,l=Object(n.useContext)(N).lang;return r.a.createElement("div",{className:a?"timeAlert":"noTimeAlert"},r.a.createElement("div",{className:"alertBack"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"txtWrap"},r.a.createElement("div",{className:"inline"},r.a.createElement(b.a,{className:"icon"}),r.a.createElement("span",{className:"txt"},console.log(),"".concat(o.timeAlertSure," ").concat(s.room," ").concat(o.timeAlertDay)," ","ca"===l||"es"===l?i.dayEuropean:i.formattedDay," ","".concat(o.timeAlertOf," ").concat(s.time,"?")))),r.a.createElement("div",{className:"btnWrap"},r.a.createElement("button",{className:"btn aceptar",onClick:function(){return t()}},o.timeAlertOk),r.a.createElement("button",{className:"btnCancel",onClick:function(){return c()}},o.timeAlertBad)))))}),$=(a(891),function(e){var t=e.aceptar,a=e.display,n=e.txt,c=e.response,o=e.btnTxt;return console.log("ResponseAlert -> response",c),r.a.createElement("div",{className:a?"responseAlert":"noResponseAlert"},r.a.createElement("div",{className:"alertBack"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"ok"===c?"info success":"info fail"},r.a.createElement("div",{className:"txtWrap"},r.a.createElement("div",{className:"inline"},r.a.createElement(b.a,{className:"icon"}),r.a.createElement("span",{className:"txt"},n))),r.a.createElement("div",{className:"btnWrap"},r.a.createElement("button",{className:"btn aceptar",onClick:function(){return t()}},o)))))}),G=(a(892),a(940),a(481)),ee=a(201),te=a.n(ee),ae="https://parseapi.back4app.com",ne="kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9",re={"X-Parse-Application-Id":ne,"X-Parse-REST-API-Key":"od4o0RAtgQzAICZY1LdEiVrItZN2trnrtcQX4hve","Content-Type":"application/json"},ce=function(){var e=Object(J.a)(Z.a.mark((function e(t,a){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te()({method:"post",url:"".concat(ae,"/classes/Errors"),headers:re,data:{code:t.response.data.code,error:t.response.data.error,description:a}});case 2:return e.abrupt("return");case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),oe=function(){var e=Object(J.a)(Z.a.mark((function e(t,a,n,r){var c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te()({method:"post",url:"".concat(ae,"/classes/Booking"),headers:re,data:{user:{__type:"Pointer",className:"_User",objectId:t},day:n,time:r,room:{__type:"Pointer",className:"Rooms",objectId:a}}});case 3:return c=e.sent,e.abrupt("return",c.data);case 7:return e.prev=7,e.t0=e.catch(0),ce(e.t0,"Fallo al crear reserva"),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n,r){return e.apply(this,arguments)}}(),se=function(){var e=Object(J.a)(Z.a.mark((function e(t,a){var n,r,c,o,s;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.a.Object.extend("Booking"),(r=new u.a.Query(n)).equalTo("room",{__type:"Pointer",className:"Rooms",objectId:a}),r.select("time"),(c=new u.a.Query(n)).equalTo("day",t),c.select("time"),o=u.a.Query.and(r,c),e.next=10,o.find();case 10:return s=e.sent,e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),ie=function(){var e=Object(J.a)(Z.a.mark((function e(){var t,a,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.a.Object.extend("Rooms"),a=new u.a.Query(t),e.next=4,a.find();case 4:return n=e.sent,e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(J.a)(Z.a.mark((function e(t){var a,n,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.a.Object.extend("Rooms"),(n=new u.a.Query(a)).equalTo("name",t),e.next=5,n.find();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=a(10),me=a.n(ue),de=(a(1017),function(e){var t=Object(n.useContext)(N).lang,a=Object(n.useContext)(H),c=a.filters,o=a.setFilters,i=Object(n.useContext)(U),l=i.booking,u=i.setBooking,m=Object(n.useContext)(h).user,d=Object(n.useState)({timeAlert:!1,loading:!1,responseAlert:!1,response:"ok"}),b=Object(s.a)(d,2),f=b[0],E=b[1],j=Object(n.useState)({focus:!1}),v=Object(s.a)(j,2),g=v[0],y=v[1],w=Object(n.useState)([]),k=Object(s.a)(w,2),x=k[0],C=k[1],A=Object(n.useState)([]),P=Object(s.a)(A,2),S=P[0],R=P[1],I=Object(n.useState)("ca"===t?Y:"es"===t?Q:void 0),T=Object(s.a)(I,2),B=T[0],q=T[1];Object(n.useEffect)((function(){"ca"===t?q((function(){return Y})):"es"===t&&q((function(){return Q})),D()}),[t]);var F=function(){var e=Object(J.a)(Z.a.mark((function e(){var t,a,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E((function(e){return Object(p.a)(Object(p.a)({},e),{},{loading:!0})})),e.next=3,ie();case 3:t=e.sent,a=Z.a.mark((function e(a){var n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(c.dayFormatted,t[a].id);case 2:(n=e.sent).length>0&&n.map((function(e){return e.attributes.time})).map((function(e){return t[a].attributes.times.map((function(n,r){return e===n.timeInt&&t[a].attributes.times.splice(r,1),e})),e})),0===t[a].attributes.times.length&&t[a].attributes.times.push("No time available"),R(0===a?function(){return[t[a]]}:function(e){return[].concat(Object(W.a)(e),[t[a]])});case 6:case"end":return e.stop()}}),e)})),n=0;case 6:if(!(n<t.length)){e.next=11;break}return e.delegateYield(a(n),"t0",8);case 8:n++,e.next=6;break;case 11:return E((function(e){return Object(p.a)(Object(p.a)({},e),{},{loading:!1})})),o((function(e){return Object(p.a)(Object(p.a)({},e),{},{select:!1,dayPicker:!1})})),e.abrupt("return");case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(J.a)(Z.a.mark((function e(){var t,a;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E((function(e){return Object(p.a)(Object(p.a)({},e),{},{loading:!0})})),e.next=3,le(c.room);case 3:return t=e.sent,e.next=6,se(c.dayFormatted,t[0].id);case 6:return(a=e.sent).length>0&&a.map((function(e){return e.attributes.time})).map((function(e){return t[0].attributes.times.map((function(a,n){return e===a.timeInt&&t[0].attributes.times.splice(n,1),e})),e})),0===t[0].attributes.times.length&&t[0].attributes.times.push("No time available"),R((function(){return[t[0]]})),E((function(e){return Object(p.a)(Object(p.a)({},e),{},{loading:!1})})),o((function(e){return Object(p.a)(Object(p.a)({},e),{},{select:!1,dayPicker:!1})})),e.abrupt("return");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){if(x.length>0)for(var e=0;e<x.length;e++)e===x.length-1&&(x[e].label="ca"===t?"Totes":"es"===t?"Todas":"All")},L=function(){var e=Object(J.a)(Z.a.mark((function e(){var a,n,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie();case 2:for(a=e.sent,n=function(e){0===e?C((function(){return[{value:a[e].id,label:a[e].attributes.name}]})):e===a.length-1?C((function(n){return[].concat(Object(W.a)(n),[{value:a[e].id,label:a[e].attributes.name},{value:"all",label:"ca"===t?"Totes":"es"===t?"Todas":"All"}])})):C((function(t){return[].concat(Object(W.a)(t),[{value:a[e].attributes.name,label:a[e].attributes.name}])}))},r=0;r<a.length;r++)n(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){return L(),F(),function(){E((function(e){return Object(p.a)(Object(p.a)({},e),{},{timeAlert:!1})}))}}),[]),Object(n.useEffect)((function(){(c.select||c.dayPicker)&&("all"===c.roomId?F():M())}),[c.select,c.dayPicker]);var z=function(){var e=Object(J.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(m.id,l.roomId,l.dayFormatted,l.time);case 2:u((function(e){return Object(p.a)(Object(p.a)({},e),{},{booked:!0})})),E((function(e){return Object(p.a)(Object(p.a)({},e),{},{timeAlert:!1,responseAlert:!0})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(J.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E((function(e){return Object(p.a)(Object(p.a)({},e),{},{responseAlert:!1})}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee={control:function(e){return Object(p.a)(Object(p.a)({},e),{},{backgroundColor:"white",borderRadius:"250px",width:"120px",fontSize:"16px",padding:"0.5px"})}};return r.a.createElement("div",{className:"dashboard"},r.a.createElement($,{aceptar:K,response:f.response,txt:B.successAlertTxt,btnTxt:B.successAlertBtn,display:f.responseAlert}),r.a.createElement(X,{display:f.timeAlert,txt:B,aceptar:z,cancelar:function(){E((function(e){return Object(p.a)(Object(p.a)({},e),{},{timeAlert:!1})}))}}),r.a.createElement("div",{className:"filters"},r.a.createElement("div",{className:"labelInput"},r.a.createElement("span",{className:"label"},B.day,":"),r.a.createElement(G.SingleDatePicker,{date:c.day,onDateChange:function(e){return o((function(t){return Object(p.a)(Object(p.a)({},t),{},{day:e,dayFormatted:e.format("L"),dayEuropean:"".concat(e.date(),"/").concat(e.month()+1,"/").concat(e.year()),isSunday:"Sunday"===e.format("dddd"),dayPicker:!0})}))},focused:g.focus,onFocusChange:function(e){var t=e.focused;y((function(){return{focus:t}}))},numberOfMonths:1,displayFormat:"DD/MM/YYYY",readOnly:!0,firstDayOfWeek:1,isOutsideRange:function(e){return e.isBefore(me()().hours(0))||e.isAfter(me()().add(7,"days"))},id:"dayComp"})),r.a.createElement("div",{className:"labelInput second"},r.a.createElement("span",{className:"label"},B.room,":"),r.a.createElement(_.a,{styles:ee,options:x,defaultValue:x[2],placeholder:B.all,onChange:function(e){return o((function(t){return Object(p.a)(Object(p.a)({},t),{},{room:e.label,roomId:e.value,select:!0})}))}}))),r.a.createElement("div",{className:"rooms"},f.loading?r.a.createElement(O.a,{color:"#0093fc",size:50}):c.isSunday?r.a.createElement("span",{className:"isSunday"},B.close):S.map((function(e){return r.a.createElement(V,{key:e._objCount,name:e.attributes.name,time:e.attributes.times,roomId:e.id,setDisplay:E,dayFormatted:c.dayFormatted,noTimes:B.complete})}))))}),pe=a(482),be=a(483),fe=function(e){var t=Object(n.useContext)(N).lang,a=Object(n.useState)("mysapce"),c=Object(s.a)(a,2),o=c[0],i=c[1];return Object(n.useEffect)((function(){"ca"===t?i((function(){return pe})):"es"===t&&i((function(){return be}))}),[t]),r.a.createElement("div",null,o.title)},Ee=a(485),Oe=function(e){var t=e.component,a=e.layout,c=e.render,o=Object(Ee.a)(e,["component","layout","render"]),s=Object(n.useContext)(h).user;return r.a.createElement(i.b,Object.assign({},o,{render:function(e){return s.logged?t?r.a.createElement(a,{key:"l"},r.a.createElement(t,e)):c(e):r.a.createElement(i.a,{to:"/login"})}}))};var je=function(){var e=Object(n.useState)("es"),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)("Reservar"),l=Object(s.a)(o,2),m=l[0],d=l[1],p=Object(n.useState)({room:"roomName",roomId:"all",day:me()(),dayFormatted:me()().format("L"),dayEuropean:"".concat(me()().date(),"/").concat(me()().month()+1,"/").concat(me()().year()),time:"0h-2h",timeId:"t0",isSunday:"Sunday"===me()().format("dddd"),select:!1,dayPicker:!1}),b=Object(s.a)(p,2),f=b[0],E=b[1],O=Object(n.useState)({room:"roomName",roomId:"all",dayFormatted:me()().format("L"),time:"0h-2h",timeId:"t0",booked:!1}),j=Object(s.a)(O,2),v=j[0],g=j[1],y="kn0fKAr5wiPrx2FEjeIlejuE9s8AjEHaF2vY9zj9",w=Object(n.useState)(function(){var e=JSON.parse(localStorage.getItem("Parse/".concat(y,"/currentUser")));return e&&e.sessionToken?{logged:!0,name:e.name,email:e.mail,token:e.sessionToken,id:e.objectId}:{logged:!1}}()),k=Object(s.a)(w,2),x=k[0],C=k[1];return u.a.serverURL="https://parseapi.back4app.com",u.a.initialize(y,"YxSrKWAZV2eZw5riHbZWbKr75aBjr2NyuKrll60W"),r.a.createElement(N.Provider,{value:{lang:a,setLang:c}},r.a.createElement(h.Provider,{value:{user:x,setUser:C}},r.a.createElement(q.Provider,{value:{menu:m,setMenu:d}},r.a.createElement(H.Provider,{value:{filters:f,setFilters:E}},r.a.createElement(U.Provider,{value:{booking:v,setBooking:g}},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/login",component:A}),r.a.createElement(i.b,{path:"/signup",component:T}),r.a.createElement(Oe,{path:"/dashboard",component:de,layout:L}),r.a.createElement(Oe,{path:"/myspace",component:fe,layout:L}),r.a.createElement(i.a,{from:"/",to:"/dashboard"})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(m.a,null,r.a.createElement(je,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},268:function(e){e.exports=JSON.parse('{"title":"Reserves","complete":"No hi ha hores disponibles","day":"Dia","room":"Sala","all":"Totes","close":"Diumenges tancat","timeAlertSure":"Est\xe0s segur que vols reservar la","timeAlertDay":"el dia","timeAlertOf":"de","timeAlertOk":"Acceptar","timeAlertBad":"Cancel\xb7lar","successAlertTxt":"Reserva efectuada amb \xe8xit","successAlertBtn":"Acceptar"}')},269:function(e){e.exports=JSON.parse('{"title":"Reservas","complete":"No hay horas disponibles","day":"D\xeda","room":"Sala","all":"Todas","close":"Cerramos los domingos","timeAlertSure":"Est\xe0s seguro que quieres reservar la","timeAlertDay":"el d\xeda","timeAlertOf":"de","timeAlertOk":"Aceptar","timeAlertBad":"Cancelar","successAlertTxt":"Reserva efectuada con \xe9xito","successAlertBtn":"Aceptar"}')},474:function(e){e.exports=JSON.parse('{"pswRule":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero.","pswRequired":"Contrase\xf1a requerida","pswPlaceholder":"Contrase\xf1a","accept":"Aceptar","loginTitle":"Entrar","signup":"Crear cuenta","submitBtn":"Entrar","submitError":"Error al entrar","submitErrorVerify":"Mail no verificado","recoveryTxt":"Recuperar","recoveryA":"usuario y contrase\xf1a","mailPlaceholder":"Mail","mailError":"Mail no v\xe1lido","mailRequired":"Mail requerido"}')},475:function(e){e.exports=JSON.parse('{"pswRule":"La contrasenya ha de contenir m\xednim 8 car\xe0cters, una maj\xfascula, una min\xfascula i un n\xfamero.","accept":"Acceptar","pswRequired":"Contrasenya obligatoria","pswPlaceholder":"Contrasenya","loginTitle":"Entrar","signup":"Crear un compte","submitBtn":"Entrar","submitError":"Error al entrar","submitErrorVerify":"Mail no verificat","recoveryTxt":"Recuperar","recoveryA":"usuari i contrasenya","mailPlaceholder":"Mail","mailError":"Mail no v\xe0lid","mailRequired":"Mail obligatori"}')},476:function(e){e.exports=JSON.parse('{"mailPlaceholder":"Mail","mailError":"Mail no v\xe0lid","mailRequired":"Mail obligatori","nameError":"Nom no v\xe0lid","namePlaceholder":"Nom complet","nameRequired":"Nom obligatori","pswPlaceholder":"Contrasenya","pswRequired":"Contrasenya obligatoria","rePswPlaceholder":"Repetir contrasenya","rePswError":"Les contrasenyes no coincideixen","rePswRequired":"Camp obligatori","pswRule":"La contrasenya ha de contenir m\xednim 8 car\xe0cters, una maj\xfascula, una min\xfascula i un n\xfamero.","accept":"Acceptar","loginTitle":"Log in","signupTitle":"Crear compte","signup":"Crear compte","submitBtn":"Crear","submitError":"Error a l\'hora de registrar-se","submitOk":"Enviant mail de confirmaci\xf3","back":"Tornar enrere"}')},477:function(e){e.exports=JSON.parse('{"mailPlaceholder":"Mail","mailError":"Mail no v\xe1lido","mailRequired":"Mail requerido","nameError":"Nombre no v\xe1lido","namePlaceholder":"Nombre completo","nameRequired":"Nombre requerido","pswPlaceholder":"Contrase\xf1a","pswError":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero","pswRequired":"Contrase\xf1a requerida","rePswPlaceholder":"Repetir contrase\xf1a","rePswError":"Las contrase\xf1as no coinciden","rePswRequired":"Campo requierido","pswRule":"La contrase\xf1a debe contener m\xednimo 8 car\xe1cteres, una may\xfascula, una min\xfascula y un n\xfamero.","accept":"Aceptar","loginTitle":"Log in","signupTitle":"Reg\xedstrate","signup":"Crear cuenta","submitBtn":"Registrarse","submitError":"Error al registrarse","submitOk":"Enviando mail de confirmaci\xf3n","back":"Volver"}')},479:function(e){e.exports=JSON.parse('{"booking":"Reservar","myBooking":"Les meves reserves","brand":"Home"}')},480:function(e){e.exports=JSON.parse('{"booking":"Reservar","myBooking":"Mis reservas","brand":"Home"}')},482:function(e){e.exports=JSON.parse('{"title":"Les meves reserves"}')},483:function(e){e.exports=JSON.parse('{"title":"Mis reservas"}')},486:function(e,t,a){e.exports=a(1018)},491:function(e,t,a){},715:function(e,t){},717:function(e,t){},728:function(e,t){},730:function(e,t){},756:function(e,t){},758:function(e,t){},759:function(e,t){},765:function(e,t){},767:function(e,t){},785:function(e,t){},788:function(e,t){},804:function(e,t){},807:function(e,t){},857:function(e,t,a){},858:function(e,t,a){},859:function(e,t,a){},860:function(e,t,a){},861:function(e,t,a){},862:function(e,t,a){},863:function(e,t,a){},868:function(e,t,a){},872:function(e,t){},874:function(e,t){},884:function(e,t,a){},885:function(e,t,a){},886:function(e,t,a){},887:function(e,t,a){},888:function(e,t,a){},889:function(e,t,a){},890:function(e,t,a){},891:function(e,t,a){},904:function(e,t){}},[[486,1,2]]]);
//# sourceMappingURL=main.dcaf9b84.chunk.js.map